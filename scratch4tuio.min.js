/*!
 * Scratch4TUIO v0.9.1 (https://github.com/caesarion/Scratch4TuioExtension)
 * Copyright 2015-2015 Sebastian Thiele <s.thiele87@yahoo.de>
 * Licensed under the GPL-2.0 license
 */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(b){function d(){function a(){}try{var b=new Uint8Array(1);return b.foo=function(){return 42},b.constructor=a,42===b.foo()&&b.constructor===a&&"function"==typeof b.subarray&&0===b.subarray(1,1).byteLength}catch(c){return!1}}function e(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function f(a){return this instanceof f?(this.length=0,this.parent=void 0,"number"==typeof a?g(this,a):"string"==typeof a?h(this,a,arguments.length>1?arguments[1]:"utf8"):i(this,a)):arguments.length>1?new f(a,arguments[1]):new f(a)}function g(a,b){if(a=p(a,0>b?0:0|q(b)),!f.TYPED_ARRAY_SUPPORT)for(var c=0;b>c;c++)a[c]=0;return a}function h(a,b,c){("string"!=typeof c||""===c)&&(c="utf8");var d=0|s(b,c);return a=p(a,d),a.write(b,c),a}function i(a,b){if(f.isBuffer(b))return j(a,b);if(Y(b))return k(a,b);if(null==b)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(b.buffer instanceof ArrayBuffer)return l(a,b);if(b instanceof ArrayBuffer)return m(a,b)}return b.length?n(a,b):o(a,b)}function j(a,b){var c=0|q(b.length);return a=p(a,c),b.copy(a,0,0,c),a}function k(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;c>d;d+=1)a[d]=255&b[d];return a}function l(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;c>d;d+=1)a[d]=255&b[d];return a}function m(a,b){return f.TYPED_ARRAY_SUPPORT?(b.byteLength,a=f._augment(new Uint8Array(b))):a=l(a,new Uint8Array(b)),a}function n(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;c>d;d+=1)a[d]=255&b[d];return a}function o(a,b){var c,d=0;"Buffer"===b.type&&Y(b.data)&&(c=b.data,d=0|q(c.length)),a=p(a,d);for(var e=0;d>e;e+=1)a[e]=255&c[e];return a}function p(a,b){f.TYPED_ARRAY_SUPPORT?(a=f._augment(new Uint8Array(b)),a.__proto__=f.prototype):(a.length=b,a._isBuffer=!0);var c=0!==b&&b<=f.poolSize>>>1;return c&&(a.parent=Z),a}function q(a){if(a>=e())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+e().toString(16)+" bytes");return 0|a}function r(a,b){if(!(this instanceof r))return new r(a,b);var c=new f(a,b);return delete c.parent,c}function s(a,b){"string"!=typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case"ascii":case"binary":case"raw":case"raws":return c;case"utf8":case"utf-8":return R(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return U(a).length;default:if(d)return R(a).length;b=(""+b).toLowerCase(),d=!0}}function t(a,b,c){var d=!1;if(b=0|b,c=void 0===c||c===1/0?this.length:0|c,a||(a="utf8"),0>b&&(b=0),c>this.length&&(c=this.length),b>=c)return"";for(;;)switch(a){case"hex":return F(this,b,c);case"utf8":case"utf-8":return B(this,b,c);case"ascii":return D(this,b,c);case"binary":return E(this,b,c);case"base64":return A(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function u(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d),d>e&&(d=e)):d=e;var f=b.length;if(f%2!==0)throw new Error("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;d>g;g++){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))throw new Error("Invalid hex string");a[c+g]=h}return g}function v(a,b,c,d){return V(R(b,a.length-c),a,c,d)}function w(a,b,c,d){return V(S(b),a,c,d)}function x(a,b,c,d){return w(a,b,c,d)}function y(a,b,c,d){return V(U(b),a,c,d)}function z(a,b,c,d){return V(T(b,a.length-c),a,c,d)}function A(a,b,c){return 0===b&&c===a.length?W.fromByteArray(a):W.fromByteArray(a.slice(b,c))}function B(a,b,c){c=Math.min(a.length,c);for(var d=[],e=b;c>e;){var f=a[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(c>=e+h){var i,j,k,l;switch(h){case 1:128>f&&(g=f);break;case 2:i=a[e+1],128===(192&i)&&(l=(31&f)<<6|63&i,l>127&&(g=l));break;case 3:i=a[e+1],j=a[e+2],128===(192&i)&&128===(192&j)&&(l=(15&f)<<12|(63&i)<<6|63&j,l>2047&&(55296>l||l>57343)&&(g=l));break;case 4:i=a[e+1],j=a[e+2],k=a[e+3],128===(192&i)&&128===(192&j)&&128===(192&k)&&(l=(15&f)<<18|(63&i)<<12|(63&j)<<6|63&k,l>65535&&1114112>l&&(g=l))}}null===g?(g=65533,h=1):g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|1023&g),d.push(g),e+=h}return C(d)}function C(a){var b=a.length;if($>=b)return String.fromCharCode.apply(String,a);for(var c="",d=0;b>d;)c+=String.fromCharCode.apply(String,a.slice(d,d+=$));return c}function D(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;c>e;e++)d+=String.fromCharCode(127&a[e]);return d}function E(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;c>e;e++)d+=String.fromCharCode(a[e]);return d}function F(a,b,c){var d=a.length;(!b||0>b)&&(b=0),(!c||0>c||c>d)&&(c=d);for(var e="",f=b;c>f;f++)e+=Q(a[f]);return e}function G(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function H(a,b,c){if(a%1!==0||0>a)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function I(a,b,c,d,e,g){if(!f.isBuffer(a))throw new TypeError("buffer must be a Buffer instance");if(b>e||g>b)throw new RangeError("value is out of bounds");if(c+d>a.length)throw new RangeError("index out of range")}function J(a,b,c,d){0>b&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);f>e;e++)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function K(a,b,c,d){0>b&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);f>e;e++)a[c+e]=b>>>8*(d?e:3-e)&255}function L(a,b,c,d,e,f){if(b>e||f>b)throw new RangeError("value is out of bounds");if(c+d>a.length)throw new RangeError("index out of range");if(0>c)throw new RangeError("index out of range")}function M(a,b,c,d,e){return e||L(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(a,b,c,d,23,4),c+4}function N(a,b,c,d,e){return e||L(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(a,b,c,d,52,8),c+8}function O(a){if(a=P(a).replace(aa,""),a.length<2)return"";for(;a.length%4!==0;)a+="=";return a}function P(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function Q(a){return 16>a?"0"+a.toString(16):a.toString(16)}function R(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;d>g;g++){if(c=a.charCodeAt(g),c>55295&&57344>c){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(56320>c){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=e-55296<<10|c-56320|65536}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,128>c){if((b-=1)<0)break;f.push(c)}else if(2048>c){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(65536>c){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(1114112>c))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function S(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b}function T(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);g++)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function U(a){return W.toByteArray(O(a))}function V(a,b,c,d){for(var e=0;d>e&&!(e+c>=b.length||e>=a.length);e++)b[e+c]=a[e];return e}var W=a("base64-js"),X=a("ieee754"),Y=a("is-array");c.Buffer=f,c.SlowBuffer=r,c.INSPECT_MAX_BYTES=50,f.poolSize=8192;var Z={};f.TYPED_ARRAY_SUPPORT=void 0!==b.TYPED_ARRAY_SUPPORT?b.TYPED_ARRAY_SUPPORT:d(),f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array),f.isBuffer=function(a){return!(null==a||!a._isBuffer)},f.compare=function(a,b){if(!f.isBuffer(a)||!f.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,d=b.length,e=0,g=Math.min(c,d);g>e&&a[e]===b[e];)++e;return e!==g&&(c=a[e],d=b[e]),d>c?-1:c>d?1:0},f.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(a,b){if(!Y(a))throw new TypeError("list argument must be an Array of Buffers.");if(0===a.length)return new f(0);var c;if(void 0===b)for(b=0,c=0;c<a.length;c++)b+=a[c].length;var d=new f(b),e=0;for(c=0;c<a.length;c++){var g=a[c];g.copy(d,e),e+=g.length}return d},f.byteLength=s,f.prototype.length=void 0,f.prototype.parent=void 0,f.prototype.toString=function(){var a=0|this.length;return 0===a?"":0===arguments.length?B(this,0,a):t.apply(this,arguments)},f.prototype.equals=function(a){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?!0:0===f.compare(this,a)},f.prototype.inspect=function(){var a="",b=c.INSPECT_MAX_BYTES;return this.length>0&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... ")),"<Buffer "+a+">"},f.prototype.compare=function(a){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?0:f.compare(this,a)},f.prototype.indexOf=function(a,b){function c(a,b,c){for(var d=-1,e=0;c+e<a.length;e++)if(a[c+e]===b[-1===d?0:e-d]){if(-1===d&&(d=e),e-d+1===b.length)return c+d}else d=-1;return-1}if(b>2147483647?b=2147483647:-2147483648>b&&(b=-2147483648),b>>=0,0===this.length)return-1;if(b>=this.length)return-1;if(0>b&&(b=Math.max(this.length+b,0)),"string"==typeof a)return 0===a.length?-1:String.prototype.indexOf.call(this,a,b);if(f.isBuffer(a))return c(this,a,b);if("number"==typeof a)return f.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,a,b):c(this,[a],b);throw new TypeError("val must be string, number or Buffer")},f.prototype.get=function(a){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(a)},f.prototype.set=function(a,b){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(a,b)},f.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else if(isFinite(b))b=0|b,isFinite(c)?(c=0|c,void 0===d&&(d="utf8")):(d=c,c=void 0);else{var e=d;d=b,b=0|c,c=e}var f=this.length-b;if((void 0===c||c>f)&&(c=f),a.length>0&&(0>c||0>b)||b>this.length)throw new RangeError("attempt to write outside buffer bounds");d||(d="utf8");for(var g=!1;;)switch(d){case"hex":return u(this,a,b,c);case"utf8":case"utf-8":return v(this,a,b,c);case"ascii":return w(this,a,b,c);case"binary":return x(this,a,b,c);case"base64":return y(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,a,b,c);default:if(g)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),g=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;f.prototype.slice=function(a,b){var c=this.length;a=~~a,b=void 0===b?c:~~b,0>a?(a+=c,0>a&&(a=0)):a>c&&(a=c),0>b?(b+=c,0>b&&(b=0)):b>c&&(b=c),a>b&&(b=a);var d;if(f.TYPED_ARRAY_SUPPORT)d=f._augment(this.subarray(a,b));else{var e=b-a;d=new f(e,void 0);for(var g=0;e>g;g++)d[g]=this[g+a]}return d.length&&(d.parent=this.parent||this),d},f.prototype.readUIntLE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},f.prototype.readUIntBE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},f.prototype.readUInt8=function(a,b){return b||H(a,1,this.length),this[a]},f.prototype.readUInt16LE=function(a,b){return b||H(a,2,this.length),this[a]|this[a+1]<<8},f.prototype.readUInt16BE=function(a,b){return b||H(a,2,this.length),this[a]<<8|this[a+1]},f.prototype.readUInt32LE=function(a,b){return b||H(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},f.prototype.readUInt32BE=function(a,b){return b||H(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},f.prototype.readIntLE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},f.prototype.readIntBE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},f.prototype.readInt8=function(a,b){return b||H(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]},f.prototype.readInt16LE=function(a,b){b||H(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},f.prototype.readInt16BE=function(a,b){b||H(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},f.prototype.readInt32LE=function(a,b){return b||H(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},f.prototype.readInt32BE=function(a,b){return b||H(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},f.prototype.readFloatLE=function(a,b){return b||H(a,4,this.length),X.read(this,a,!0,23,4)},f.prototype.readFloatBE=function(a,b){return b||H(a,4,this.length),X.read(this,a,!1,23,4)},f.prototype.readDoubleLE=function(a,b){return b||H(a,8,this.length),X.read(this,a,!0,52,8)},f.prototype.readDoubleBE=function(a,b){return b||H(a,8,this.length),X.read(this,a,!1,52,8)},f.prototype.writeUIntLE=function(a,b,c,d){a=+a,b=0|b,c=0|c,d||I(this,a,b,c,Math.pow(2,8*c),0);var e=1,f=0;for(this[b]=255&a;++f<c&&(e*=256);)this[b+f]=a/e&255;return b+c},f.prototype.writeUIntBE=function(a,b,c,d){a=+a,b=0|b,c=0|c,d||I(this,a,b,c,Math.pow(2,8*c),0);var e=c-1,f=1;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=a/f&255;return b+c},f.prototype.writeUInt8=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,1,255,0),f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=255&a,b+1},f.prototype.writeUInt16LE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):J(this,a,b,!0),b+2},f.prototype.writeUInt16BE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):J(this,a,b,!1),b+2},f.prototype.writeUInt32LE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a):K(this,a,b,!0),b+4},f.prototype.writeUInt32BE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):K(this,a,b,!1),b+4},f.prototype.writeIntLE=function(a,b,c,d){if(a=+a,b=0|b,!d){var e=Math.pow(2,8*c-1);I(this,a,b,c,e-1,-e)}var f=0,g=1,h=0>a?1:0;for(this[b]=255&a;++f<c&&(g*=256);)this[b+f]=(a/g>>0)-h&255;return b+c},f.prototype.writeIntBE=function(a,b,c,d){if(a=+a,b=0|b,!d){var e=Math.pow(2,8*c-1);I(this,a,b,c,e-1,-e)}var f=c-1,g=1,h=0>a?1:0;for(this[b+f]=255&a;--f>=0&&(g*=256);)this[b+f]=(a/g>>0)-h&255;return b+c},f.prototype.writeInt8=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,1,127,-128),f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),0>a&&(a=255+a+1),this[b]=255&a,b+1},f.prototype.writeInt16LE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):J(this,a,b,!0),b+2},f.prototype.writeInt16BE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):J(this,a,b,!1),b+2},f.prototype.writeInt32LE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):K(this,a,b,!0),b+4},f.prototype.writeInt32BE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,4,2147483647,-2147483648),0>a&&(a=4294967295+a+1),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):K(this,a,b,!1),b+4},f.prototype.writeFloatLE=function(a,b,c){return M(this,a,b,!0,c)},f.prototype.writeFloatBE=function(a,b,c){return M(this,a,b,!1,c)},f.prototype.writeDoubleLE=function(a,b,c){return N(this,a,b,!0,c)},f.prototype.writeDoubleBE=function(a,b,c){return N(this,a,b,!1,c)},f.prototype.copy=function(a,b,c,d){if(c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),d>0&&c>d&&(d=c),d===c)return 0;if(0===a.length||0===this.length)return 0;if(0>b)throw new RangeError("targetStart out of bounds");if(0>c||c>=this.length)throw new RangeError("sourceStart out of bounds");if(0>d)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);var e,g=d-c;if(this===a&&b>c&&d>b)for(e=g-1;e>=0;e--)a[e+b]=this[e+c];else if(1e3>g||!f.TYPED_ARRAY_SUPPORT)for(e=0;g>e;e++)a[e+b]=this[e+c];else a._set(this.subarray(c,c+g),b);return g},f.prototype.fill=function(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),b>c)throw new RangeError("end < start");if(c!==b&&0!==this.length){if(0>b||b>=this.length)throw new RangeError("start out of bounds");if(0>c||c>this.length)throw new RangeError("end out of bounds");var d;if("number"==typeof a)for(d=b;c>d;d++)this[d]=a;else{var e=R(a.toString()),f=e.length;for(d=b;c>d;d++)this[d]=e[d%f]}return this}},f.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(f.TYPED_ARRAY_SUPPORT)return new f(this).buffer;for(var a=new Uint8Array(this.length),b=0,c=a.length;c>b;b+=1)a[b]=this[b];return a.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var _=f.prototype;f._augment=function(a){return a.constructor=f,a._isBuffer=!0,a._set=a.set,a.get=_.get,a.set=_.set,a.write=_.write,a.toString=_.toString,a.toLocaleString=_.toString,a.toJSON=_.toJSON,a.equals=_.equals,a.compare=_.compare,a.indexOf=_.indexOf,a.copy=_.copy,a.slice=_.slice,a.readUIntLE=_.readUIntLE,a.readUIntBE=_.readUIntBE,a.readUInt8=_.readUInt8,a.readUInt16LE=_.readUInt16LE,a.readUInt16BE=_.readUInt16BE,a.readUInt32LE=_.readUInt32LE,a.readUInt32BE=_.readUInt32BE,a.readIntLE=_.readIntLE,a.readIntBE=_.readIntBE,a.readInt8=_.readInt8,a.readInt16LE=_.readInt16LE,a.readInt16BE=_.readInt16BE,a.readInt32LE=_.readInt32LE,a.readInt32BE=_.readInt32BE,a.readFloatLE=_.readFloatLE,a.readFloatBE=_.readFloatBE,a.readDoubleLE=_.readDoubleLE,a.readDoubleBE=_.readDoubleBE,a.writeUInt8=_.writeUInt8,a.writeUIntLE=_.writeUIntLE,a.writeUIntBE=_.writeUIntBE,a.writeUInt16LE=_.writeUInt16LE,a.writeUInt16BE=_.writeUInt16BE,a.writeUInt32LE=_.writeUInt32LE,a.writeUInt32BE=_.writeUInt32BE,a.writeIntLE=_.writeIntLE,a.writeIntBE=_.writeIntBE,a.writeInt8=_.writeInt8,a.writeInt16LE=_.writeInt16LE,a.writeInt16BE=_.writeInt16BE,a.writeInt32LE=_.writeInt32LE,a.writeInt32BE=_.writeInt32BE,a.writeFloatLE=_.writeFloatLE,a.writeFloatBE=_.writeFloatBE,a.writeDoubleLE=_.writeDoubleLE,a.writeDoubleBE=_.writeDoubleBE,a.fill=_.fill,a.inspect=_.inspect,a.toArrayBuffer=_.toArrayBuffer,a};var aa=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":2,ieee754:3,"is-array":4}],2:[function(a,b,c){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(a){"use strict";function b(a){var b=a.charCodeAt(0);return b===g||b===l?62:b===h||b===m?63:i>b?-1:i+10>b?b-i+26+26:k+26>b?b-k:j+26>b?b-j+26:void 0}function c(a){function c(a){j[l++]=a}var d,e,g,h,i,j;if(a.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=a.length;i="="===a.charAt(k-2)?2:"="===a.charAt(k-1)?1:0,j=new f(3*a.length/4-i),g=i>0?a.length-4:a.length;var l=0;for(d=0,e=0;g>d;d+=4,e+=3)h=b(a.charAt(d))<<18|b(a.charAt(d+1))<<12|b(a.charAt(d+2))<<6|b(a.charAt(d+3)),c((16711680&h)>>16),c((65280&h)>>8),c(255&h);return 2===i?(h=b(a.charAt(d))<<2|b(a.charAt(d+1))>>4,c(255&h)):1===i&&(h=b(a.charAt(d))<<10|b(a.charAt(d+1))<<4|b(a.charAt(d+2))>>2,c(h>>8&255),c(255&h)),j}function e(a){function b(a){return d.charAt(a)}function c(a){return b(a>>18&63)+b(a>>12&63)+b(a>>6&63)+b(63&a)}var e,f,g,h=a.length%3,i="";for(e=0,g=a.length-h;g>e;e+=3)f=(a[e]<<16)+(a[e+1]<<8)+a[e+2],i+=c(f);switch(h){case 1:f=a[a.length-1],i+=b(f>>2),i+=b(f<<4&63),i+="==";break;case 2:f=(a[a.length-2]<<8)+a[a.length-1],i+=b(f>>10),i+=b(f>>4&63),i+=b(f<<2&63),i+="="}return i}var f="undefined"!=typeof Uint8Array?Uint8Array:Array,g="+".charCodeAt(0),h="/".charCodeAt(0),i="0".charCodeAt(0),j="a".charCodeAt(0),k="A".charCodeAt(0),l="-".charCodeAt(0),m="_".charCodeAt(0);a.toByteArray=c,a.fromByteArray=e}("undefined"==typeof c?this.base64js={}:c)},{}],3:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:(n?-1:1)*(1/0);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=0>b||0===b&&0>1/b?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],4:[function(a,b,c){var d=Array.isArray,e=Object.prototype.toString;b.exports=d||function(a){return!!a&&"[object Array]"==e.call(a)}},{}],5:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||0>a||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if(b=arguments[1],b instanceof Error)throw b;throw TypeError('Uncaught, unspecified "error" event.')}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(d=arguments.length,f=new Array(d-1),i=1;d>i;i++)f[i-1]=arguments[i];c.apply(this,f)}else if(g(c)){for(d=arguments.length,f=new Array(d-1),i=1;d>i;i++)f[i-1]=arguments[i];for(j=c.slice(),d=j.length,i=0;d>i;i++)j[i].apply(this,f)}return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned){var c;c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())}return this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-->0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(0>d)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.listenerCount=function(a,b){var c;return c=a._events&&a._events[b]?e(a._events[b])?1:a._events[b].length:0}},{}],6:[function(a,b,c){(function(a){!function(d,e){"use strict";function f(a){return new g(a)}function g(a){this._wrapped=a}function h(){for(var a,b=-1,c={},d={},e={},f=["beforeLoop","loopExp","inLoop","afterLoop"];++b<arguments.length;)for(a in arguments[b])e[a]=arguments[b][a];for(;a=f.pop();)"object"==typeof e[a]?(c[a]=e[a].array,d[a]=e[a].object):c[a]=d[a]=e[a]||"";var g=e.args,h=/^[^,]+/.exec(g)[0],i=e.init,j=e.iterate,k=!("object"==g||"objects"==j),l=!("array"==g||"arrays"==j),m=e.useHas!==!1;return Function("arrayClass,bind,concat,funcClass,hasOwnProperty,identity,indexOf,Infinity,isArray,isEmpty,Math,slice,stringClass,toString,undefined",'"use strict";return function('+g+"){\n"+(e.top||"")+";\nvar index, result"+(i?"="+i:"")+";\nif("+h+"==undefined)return "+(e.exits||"result")+";\n"+(k?"var length="+h+".length;\nindex=-1;\n"+((l?"if(length===+length){\n":"")+(c.beforeLoop||"")+";\nwhile("+(c.loopExp||"++index<length")+"){\n"+c.inLoop+"\n}"+(c.afterLoop||"")+";\n"+(l?"\n}\n":"")):"")+(l?(k?"else{\n":"")+(d.beforeLoop||"")+";\nfor("+(d.loopExp||"index in "+h)+"){\n"+(m?"if(hasOwnProperty.call("+/\S+$/.exec(d.loopExp||h)[0]+",index)){\n":"")+d.inLoop+(m?"\n}":"")+"\n}"+(d.afterLoop||"")+";\n"+(k?"\n}\n":""):"")+(e.bottom||"")+";\nreturn "+(e.returns||"result")+"\n}")(va,E,Ea,ya,Fa,ea,t,1/0,Wa,Xa,Math,Ha,Ba,Ia)}function i(a){return a.replace(ua,function(a,b){return oa[b]})}function j(a,b,c){var d={};if(!V(b)){var e=b;b=function(a){return a[e]}}return ab(a,function(a,c,e){var f=b(a,c,e);(d[f]||(d[f]=[])).push(a)}),d}function k(a,b){var c=Ha.call(arguments,2),d=V(b);return bb(a,function(a){return(d?b||a:a[b]).apply(a,c)})}function l(a,b,c,d){var f=arguments.length>2;if(a==e)return c;d&&(b=E(b,d));var g=a.length;if(g===+g){for(g&&!f&&(c=a[--g]);g--;)c=b(c,a[g],g,a);return c}var h,i=qb(a);for(g=i.length,g&&!f&&(c=a[i[--g]]);g--;)h=i[g],c=b(c,a[h],h,a);return c}function m(a){var b,c=[];return ab(a,function(a,d){b=Math.floor(Math.random()*(d+1)),c[d]=c[b],c[b]=a}),c}function n(a){var b=Ia.call(a);return b==va||b==Ba?a.length:qb(a).length}function o(a,b,c){if(V(b))c&&(b=E(b,c));else{var d=b;b=function(a){return a[d]}}return eb(bb(a,function(c,d){return{criteria:b(c,d,a),value:c}}).sort(function(a,b){var c=a.criteria,d=b.criteria;return c===e?1:d===e?-1:d>c?-1:c>d?1:0}),"value")}function p(a,b,c){var d=0,e=a.length;for(c||(c=ea);e>d;){var f=d+e>>1;c(a[f])<c(b)?d=f+1:e=f}return d}function q(a){if(!a)return[];if(V(a.toArray))return a.toArray();var b=a.length;return b===+b?Ha.call(a):ib(a)}function r(a,b,c){return b==e||c?a[0]:Ha.call(a,0,b)}function s(a,b){return b?Ea.apply([],a):fb(a,function(a,b){return Wa(b)?(Ga.apply(a,s(b)),a):(a.push(b),a)},[])}function t(a,b,c){var d,f;if(a==e)return-1;if(c)return d=p(a,b),a[d]===b?d:-1;for(d=0,f=a.length;f>d;d++)if(a[d]===b)return d;return-1}function u(a,b,c){return Ha.call(a,0,-(b==e||c?1:b))}function v(a){var b=Ha.call(arguments,1);return $a(B(a),function(a){return Za(b,function(b){return t(b,a)>=0})})}function w(a,b,c){var d=a.length;return b==e||c?a[d-1]:Ha.call(a,-b||d)}function x(a,b){if(a==e)return-1;for(var c=a.length;c--;)if(a[c]===b)return c;return-1}function y(a,b,c){c||(c=1),arguments.length<2&&(b=a||0,a=0);for(var d=-1,e=Math.max(Math.ceil((b-a)/c),0),f=Array(e);++d<e;)f[d]=a,a+=c;return f}function z(a,b,c){return Ha.call(a,b==e||c?1:b)}function A(){return B(s(arguments,!0))}function B(a,b,c){var d=c?bb(a,c):a,e=[];return a.length<3&&(b=!0),fb(d,function(c,d,f){return(b?w(c)!==d||!c.length:t(c,d)<0)&&(c.push(d),e.push(a[f])),c},[]),e}function C(){for(var a=-1,b=cb(eb(arguments,"length")),c=Array(b);++a<b;)c[a]=eb(arguments,a);return c}function D(a,b){return 1>a?b():function(){return--a<1?b.apply(this,arguments):void 0}}function E(a,b){var c=Ha.call(arguments,2),d=c.length;return function(){return c.length=d,Ga.apply(c,arguments),a.apply(b,c)}}function F(a){var b=arguments,c=1;1==b.length&&(c=0,b=ob(a));for(var d=b.length;d>c;c++)a[b[c]]=E(a[b[c]],a);return a}function G(){var a=arguments;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}}function H(a,b,c){var d;return function(){var f=arguments,g=this;c&&!d&&a.apply(g,f),clearTimeout(d),d=Na(function(){d=e,c||a.apply(g,f)},b)}}function I(a,b){var c=Ha.call(arguments,2);return Na(function(){return a.apply(e,c)},b)}function J(a){var b=Ha.call(arguments,1);return Na(function(){return a.apply(e,b)},1)}function K(a,b){var c={};return function(){var d=b?b.apply(this,arguments):arguments[0];return Fa.call(c,d)?c[d]:c[d]=a.apply(this,arguments)}}function L(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments))}}function M(a,b){var c,d,f,g,h,i,j=H(function(){d=h=!1},b);return function(){return c=arguments,g=this,i||(i=Na(function(){i=e,d&&a.apply(g,c),j()},b)),h?d=!0:f=a.apply(g,c),j(),h=!0,f}}function N(a,b){return function(){var c=[a];return Ga.apply(c,arguments),b.apply(this,c)}}function O(a){return a!==Object(a)?a:Wa(a)?a.slice():nb({},a)}function P(a,b){return Fa.call(a,b)}function Q(a){return a===!0||a===!1||Ia.call(a)==wa}function R(a){return Ia.call(a)==xa}function S(a){return!(!a||1!=a.nodeType)}function T(a,b,c){if(c||(c=[]),a===b)return 0!==a||1/a==1/b;if(a==e||b==e)return a===b;if(a._chain&&(a=a._wrapped),b._chain&&(b=b._wrapped),a.isEqual&&V(a.isEqual))return a.isEqual(b);if(b.isEqual&&V(b.isEqual))return b.isEqual(a);var d=Ia.call(a);if(d!=Ia.call(b))return!1;switch(d){case Ba:return a==String(b);case za:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case wa:case xa:return+a==+b;case Aa:return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return!0;var g=!0,h=0;if(c.push(a),d==va){if(h=a.length,g=h==b.length)for(;h--&&(g=h in a==h in b&&T(a[h],b[h],c)););}else{if("constructor"in a!="constructor"in b||a.constructor!=b.constructor)return!1;for(var i in a)if(Fa.call(a,i)&&(h++,!(g=Fa.call(b,i)&&T(a[i],b[i],c))))break;if(g){for(i in b)if(Fa.call(b,i)&&!h--)break;g=!h}}return c.pop(),g}function U(a){return La(a)&&Ia.call(a)==za}function V(a){return Ia.call(a)==ya}function W(a){return a===Object(a)}function X(a){return Ia.call(a)==za&&a!=+a}function Y(a){return null===a}function Z(a){return Ia.call(a)==za}function $(a){return Ia.call(a)==Aa}function _(a){return Ia.call(a)==Ba}function aa(a){return a===e}function ba(a){for(var b,c=-1,d=s(Ha.call(arguments,1)),e=d.length,f={};++c<e;)b=d[c],b in a&&(f[b]=a[b]);return f}function ca(a,b){return b(a),a}function da(a){return(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")}function ea(a){return a}function fa(a){ab(ob(a),function(b){var c=f[b]=a[b];f.prototype[b]=function(){var a=Ha.call(arguments);Ja.call(a,this._wrapped);
var b=c.apply(f,a);return this._chain?new g(b).chain():b}})}function ga(){return d._=ra,this}function ha(a,b){if(a==e)return null;var c=a[b];return V(c)?a[b]():c}function ia(a,b,c){c&&(b=E(b,c));for(var d=0;a>d;d++)b(d)}function ja(a){var b=qa++;return a?a+b:b}function ka(a,b,c){c=mb(c||{},f.templateSettings);var d="__p+='"+a.replace(sa,function(a){return"\\"+oa[a]}).replace(c.escape||ta,function(a,b){return"'+\n((__t=("+i(b)+"))==null?'':_.escape(__t))+\n'"}).replace(c.interpolate||ta,function(a,b){return"'+\n((__t=("+i(b)+"))==null?'':__t)+\n'"}).replace(c.evaluate||ta,function(a,b){return"';\n"+i(b)+";\n__p+='"})+"';\n";c.variable||(d="with(object||{}){\n"+d+"\n}\n"),d='var __t,__j=Array.prototype.join,__p="";function print(){__p+=__j.call(arguments,"")}\n'+d+"return __p";var e=Function(c.variable||"object","_",d);if(b)return e(b,f);var g=function(a){return e.call(this,a,f)};return g.source="function("+(c.variable||"object")+"){\n"+d+"\n}",g}function la(a){return new g(a).chain()}function ma(){return this._chain=!0,this}function na(){return this._wrapped}var oa={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};!function(){for(var a in oa)oa[oa[a]]=a}();var pa="object"==typeof c&&c&&("object"==typeof a&&a&&a==a.global&&(d=a),c),qa=0,ra=d._,sa=/\\|'|\r|\n|\t|\u2028|\u2029/g,ta=/.^/,ua=/\\(\\|'|r|n|t|u2028|u2029)/g,va="[object Array]",wa="[object Boolean]",xa="[object Date]",ya="[object Function]",za="[object Number]",Aa="[object RegExp]",Ba="[object String]",Ca=Array.prototype,Da=Object.prototype,Ea=Ca.concat,Fa=Da.hasOwnProperty,Ga=Ca.push,Ha=Ca.slice,Ia=Da.toString,Ja=Ca.unshift,Ka=Array.isArray,La=d.isFinite,Ma=Object.keys,Na=(d.clearInterval,d.setTimeout),Oa={args:"array",top:"var values=concat.apply([],slice.call(arguments,1))",init:"[]",inLoop:"if(indexOf(values,array[index])<0)result.push(array[index])"},Pa={init:"true",inLoop:"if(!callback(collection[index],index,collection))return !result"},Qa={args:"object",init:"object",beforeLoop:"for(var source,j=1,length=arguments.length;j<length;j++){\nsource=arguments[j]",loopExp:"index in source",inLoop:"object[index]=source[index]",useHas:!1,afterLoop:"}"},Ra={init:"[]",inLoop:"callback(collection[index],index,collection)&&result.push(collection[index])"},Sa={args:"collection,callback,thisArg",top:"if(!callback){\ncallback=identity\n}\nelse if(thisArg){\ncallback=bind(callback,thisArg)\n}",init:"collection",inLoop:"callback(collection[index],index,collection)"},Ta={args:"object",top:"if(object!==Object(object))throw TypeError()",init:"[]",inLoop:"result.push(index)"},Ua={init:"",exits:"[]",beforeLoop:{array:"result=Array(length)",object:"result=[]"},inLoop:{array:"result[index]=callback(collection[index],index,collection)",object:"result[result.length]=callback(collection[index],index,collection)"}},Va={top:"var current,result=-Infinity,computed=result;\nif(!callback){\nif(isArray(collection)&&collection[0]===+collection[0])return Math.max.apply(Math,collection);\nif(isEmpty(collection))return result;\n}else if(thisArg)callback=bind(callback,thisArg)",inLoop:"current=callback?callback(collection[index],index,collection):collection[index];\nif(current>=computed)computed=current,result=collection[index]"},Wa=Ka||function(a){return Ia.call(a)==va},Xa=h({args:"value",iterate:"objects",top:"var className=toString.call(value)",init:"true",beforeLoop:"if(className==arrayClass||className==stringClass)return !value.length",inLoop:"return false"}),Ya=h({args:"collection,target",init:"false",inLoop:"if(collection[index]===target)return true"}),Za=h(Sa,Pa),$a=h(Sa,Ra),_a=h(Sa,{inLoop:"if(callback(collection[index],index,collection))return collection[index]"}),ab=h(Sa),bb=h(Sa,Ua),cb=h(Sa,Va),db=h(Sa,Va,{top:Va.top.replace("-","").replace("max","min"),inLoop:Va.inLoop.replace(">=","<")}),eb=h(Ua,{args:"collection,property",inLoop:{array:"result[index]=collection[index][property]",object:"result[result.length]=collection[index][property]"}}),fb=h({args:"collection,callback,accumulator,thisArg",top:"var initial=arguments.length>2;\nif(thisArg)callback=bind(callback,thisArg)",init:"accumulator",beforeLoop:{array:"if(!initial)result=collection[++index]"},inLoop:{array:"result=callback(result,collection[index],index,collection)",object:"result=initial\n?callback(result,collection[index],index,collection)\n:(initial=true,collection[index])"}}),gb=h(Sa,Ra,{inLoop:"!"+Ra.inLoop}),hb=h(Sa,Pa,{init:"false",inLoop:Pa.inLoop.replace("!","")}),ib=h(Ua,{args:"collection",inLoop:{array:"result[index]=collection[index]",object:"result[result.length]=collection[index]"}}),jb=h({args:"array",init:"[]",inLoop:"if(array[index])result.push(array[index])"}),kb=h(Oa),lb=h(Oa,{top:"var values=slice.call(arguments,1)",init:"[]"}),mb=h(Qa,{inLoop:"if(object[index]==undefined)"+Qa.inLoop}),nb=h(Qa),ob=h(Ta,{top:"",useHas:!1,inLoop:"if(toString.call(object[index])==funcClass)result.push(index)",returns:"result.sort()"}),pb=function(a){return"[object Arguments]"==Ia.call(a)};pb(arguments)||(pb=function(a){return!(!a||!Fa.call(a,"callee"))});var qb=Ma||h(Ta);nb(f,{VERSION:"0.1.0",templateSettings:{escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g},after:D,bind:E,bindAll:F,chain:la,clone:O,compact:jb,compose:G,contains:Ya,debounce:H,defaults:mb,defer:J,delay:I,difference:kb,escape:da,every:Za,extend:nb,filter:$a,find:_a,first:r,flatten:s,forEach:ab,functions:ob,groupBy:j,has:P,identity:ea,indexOf:t,initial:u,intersection:v,invoke:k,isArguments:pb,isArray:Wa,isBoolean:Q,isDate:R,isElement:S,isEmpty:Xa,isEqual:T,isFinite:U,isFunction:V,isNaN:X,isNull:Y,isNumber:Z,isObject:W,isRegExp:$,isString:_,isUndefined:aa,keys:qb,last:w,lastIndexOf:x,map:bb,max:cb,memoize:K,min:db,mixin:fa,noConflict:ga,once:L,pick:ba,pluck:eb,range:y,reduce:fb,reduceRight:l,reject:gb,rest:z,result:ha,shuffle:m,size:n,some:hb,sortBy:o,sortedIndex:p,tap:ca,template:ka,throttle:M,times:ia,toArray:q,union:A,uniq:B,uniqueId:ja,values:ib,without:lb,wrap:N,zip:C,all:Za,any:hb,collect:bb,detect:_a,each:ab,foldl:fb,foldr:l,head:r,include:Ya,inject:fb,intersect:v,methods:ob,select:$a,tail:z,take:r,unique:B}),g.prototype=f.prototype,fa(f),ab(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=Ca[a];f.prototype[a]=function(){var a=this._wrapped;return b.apply(a,arguments),0===a.length&&delete a[0],this._chain?new g(a).chain():a}}),ab(["concat","join","slice"],function(a){var b=Ca[a];g.prototype[a]=function(){var a=b.apply(this._wrapped,arguments);return this._chain?new g(a).chain():a}}),nb(g.prototype,{chain:ma,value:na}),pa?"object"==typeof b&&b&&b.exports==pa?(b.exports=f)._=f:pa._=f:(d._=f,"function"==typeof define&&"object"==typeof define.amd&&define.amd&&define.amd.lodash&&define("lodash",function(){return f}))}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(a,b,c){(function(d){var e=e||{};!function(){"use strict";e.SECS_70YRS=2208988800,e.TWO_32=4294967296,e.defaults={metadata:!1,unpackSingleArgs:!0},e.isBufferEnv="undefined"!=typeof d,e.isCommonJS="undefined"!=typeof b&&b.exports,e.isNode=e.isCommonJS&&"undefined"==typeof window,e.isArray=function(a){return a&&"[object Array]"===Object.prototype.toString.call(a)},e.isTypedArrayView=function(a){return a.buffer&&a.buffer instanceof ArrayBuffer},e.isBuffer=function(a){return e.isBufferEnv&&a instanceof d};var c="undefined"!=typeof dcodeIO?dcodeIO.Long:"undefined"!=typeof c?c:e.isNode?a("long"):void 0;e.dataView=function(a,b,c){return a.buffer?new DataView(a.buffer,b,c):a instanceof ArrayBuffer?new DataView(a,b,c):new DataView(new Uint8Array(a),b,c)},e.byteArray=function(a){if(a instanceof Uint8Array)return a;var b=a.buffer?a.buffer:a;if(!(b instanceof ArrayBuffer||"undefined"!=typeof b.length&&"string"!=typeof b))throw new Error("Can't wrap a non-array-like object as Uint8Array. Object was: "+JSON.stringify(a,null,2));return new Uint8Array(b)},e.nativeBuffer=function(a){return e.isBufferEnv?e.isBuffer(a)?a:new d(a.buffer?a:new Uint8Array(a)):e.isTypedArrayView(a)?a:new Uint8Array(a)},e.copyByteArray=function(a,b,c){if(e.isTypedArrayView(a)&&e.isTypedArrayView(b))b.set(a,c);else for(var d=void 0===c?0:c,f=Math.min(b.length-c,a.length),g=0,h=d;f>g;g++,h++)b[h]=a[g];return b},e.readString=function(a,b){for(var c=[],d=b.idx;d<a.byteLength;d++){var e=a.getUint8(d);if(0===e){d++;break}c.push(e)}return d=d+3&-4,b.idx=d,String.fromCharCode.apply(null,c)},e.writeString=function(a){for(var b=a+"\x00",c=b.length,d=c+3&-4,e=new Uint8Array(d),f=0;f<b.length;f++){var g=b.charCodeAt(f);e[f]=g}return e},e.readPrimitive=function(a,b,c,d){var e=a[b](d.idx,!1);return d.idx+=c,e},e.writePrimitive=function(a,b,c,d,e){e=void 0===e?0:e;var f;return b?f=new Uint8Array(b.buffer):(f=new Uint8Array(d),b=new DataView(f.buffer)),b[c](e,a,!1),f},e.readInt32=function(a,b){return e.readPrimitive(a,"getInt32",4,b)},e.writeInt32=function(a,b,c){return e.writePrimitive(a,b,"setInt32",4,c)},e.readInt64=function(a,b){var d=e.readPrimitive(a,"getInt32",4,b),f=e.readPrimitive(a,"getInt32",4,b);return c?new c(f,d):{high:d,low:f,unsigned:!1}},e.writeInt64=function(a,b,c){var d=new Uint8Array(8);return d.set(e.writePrimitive(a.high,b,"setInt32",4,c),0),d.set(e.writePrimitive(a.low,b,"setInt32",4,c+4),4),d},e.readFloat32=function(a,b){return e.readPrimitive(a,"getFloat32",4,b)},e.writeFloat32=function(a,b,c){return e.writePrimitive(a,b,"setFloat32",4,c)},e.readFloat64=function(a,b){return e.readPrimitive(a,"getFloat64",8,b)},e.writeFloat64=function(a,b,c){return e.writePrimitive(a,b,"setFloat64",8,c)},e.readChar32=function(a,b){var c=e.readPrimitive(a,"getUint32",4,b);return String.fromCharCode(c)},e.writeChar32=function(a,b,c){var d=a.charCodeAt(0);return void 0===d||-1>d?void 0:e.writePrimitive(d,b,"setUint32",4,c)},e.readBlob=function(a,b){var c=e.readInt32(a,b),d=c+3&-4,f=new Uint8Array(a.buffer,b.idx,c);return b.idx+=d,f},e.writeBlob=function(a){a=e.byteArray(a);var b=a.byteLength,c=b+3&-4,d=4,f=c+d,g=new Uint8Array(f),h=new DataView(g.buffer);return e.writeInt32(b,h),g.set(a,d),g},e.readMIDIBytes=function(a,b){var c=new Uint8Array(a.buffer,b.idx,4);return b.idx+=4,c},e.writeMIDIBytes=function(a){a=e.byteArray(a);var b=new Uint8Array(4);return b.set(a),b},e.readColor=function(a,b){var c=new Uint8Array(a.buffer,b.idx,4),d=c[3]/255;return b.idx+=4,{r:c[0],g:c[1],b:c[2],a:d}},e.writeColor=function(a){var b=Math.round(255*a.a),c=new Uint8Array([a.r,a.g,a.b,b]);return c},e.readTrue=function(){return!0},e.readFalse=function(){return!1},e.readNull=function(){return null},e.readImpulse=function(){return 1},e.readTimeTag=function(a,b){var c=e.readPrimitive(a,"getUint32",4,b),d=e.readPrimitive(a,"getUint32",4,b),f=0===c&&1===d?Date.now():e.ntpToJSTime(c,d);return{raw:[c,d],"native":f}},e.writeTimeTag=function(a){var b=a.raw?a.raw:e.jsToNTPTime(a["native"]),c=new Uint8Array(8),d=new DataView(c.buffer);return e.writeInt32(b[0],d,0),e.writeInt32(b[1],d,4),c},e.timeTag=function(a,b){a=a||0,b=b||Date.now();var c=b/1e3,d=Math.floor(c),f=c-d,g=Math.floor(a),h=a-g,i=f+h;if(i>1){var j=Math.floor(i),k=i-j;g+=j,i=k}var l=d+g+e.SECS_70YRS,m=Math.round(e.TWO_32*i);return{raw:[l,m]}},e.ntpToJSTime=function(a,b){var c=a-e.SECS_70YRS,d=b/e.TWO_32,f=1e3*(c+d);return f},e.jsToNTPTime=function(a){var b=a/1e3,c=Math.floor(b),d=b-c,f=c+e.SECS_70YRS,g=Math.round(e.TWO_32*d);return[f,g]},e.readArguments=function(a,b,c){var d=e.readString(a,c);if(0!==d.indexOf(","))throw new Error("A malformed type tag string was found while reading the arguments of an OSC message. String was: "+d," at offset: "+c.idx);var f=d.substring(1).split(""),g=[];return e.readArgumentsIntoArray(g,f,d,a,b,c),g},e.readArgument=function(a,b,c,d,f){var g=e.argumentTypes[a];if(!g)throw new Error("'"+a+"' is not a valid OSC type tag. Type tag string was: "+b);var h=g.reader,i=e[h](c,f);return d.metadata&&(i={type:a,value:i}),i},e.readArgumentsIntoArray=function(a,b,c,d,f,g){for(var h=0;h<b.length;){var i,j=b[h];if("["===j){var k=b.slice(h+1),l=k.indexOf("]");if(0>l)throw new Error("Invalid argument type tag: an open array type tag ('[') was found without a matching close array tag ('[]'). Type tag was: "+c);var m=k.slice(0,l);i=e.readArgumentsIntoArray([],m,c,d,f,g),h+=l+2}else i=e.readArgument(j,c,d,f,g),h++;a.push(i)}return a},e.writeArguments=function(a,b){var c=e.collectArguments(a,b);return e.joinParts(c)},e.joinParts=function(a){for(var b=new Uint8Array(a.byteLength),c=a.parts,d=0,f=0;f<c.length;f++){var g=c[f];e.copyByteArray(g,b,d),d+=g.length}return b},e.addDataPart=function(a,b){b.parts.push(a),b.byteLength+=a.length},e.writeArrayArguments=function(a,b){for(var c="[",d=0;d<a.length;d++){var f=a[d];c+=e.writeArgument(f,b)}return c+="]"},e.writeArgument=function(a,b){if(e.isArray(a))return e.writeArrayArguments(a,b);var c=a.type,d=e.argumentTypes[c].writer;if(d){var f=e[d](a.value);e.addDataPart(f,b)}return a.type},e.collectArguments=function(a,b,c){e.isArray(a)||(a=[a]),c=c||{byteLength:0,parts:[]},b.metadata||(a=e.annotateArguments(a));for(var d=",",f=c.parts.length,g=0;g<a.length;g++){var h=a[g];d+=e.writeArgument(h,c)}var i=e.writeString(d);return c.byteLength+=i.byteLength,c.parts.splice(f,0,i),c},e.readMessage=function(a,b,c){b=b||e.defaults;var d=e.dataView(a,a.byteOffset,a.length);c=c||{idx:0};var f=e.readString(d,c);return e.readMessageContents(f,d,b,c)},e.readMessageContents=function(a,b,c,d){if(0!==a.indexOf("/"))throw new Error("A malformed OSC address was found while reading an OSC message. String was: "+a);var f=e.readArguments(b,c,d);return{address:a,args:1===f.length&&c.unpackSingleArgs?f[0]:f}},e.collectMessageParts=function(a,b,c){return c=c||{byteLength:0,parts:[]},e.addDataPart(e.writeString(a.address),c),e.collectArguments(a.args,b,c)},e.writeMessage=function(a,b){if(b=b||e.defaults,!e.isValidMessage(a))throw new Error("An OSC message must contain a valid address. Message was: "+JSON.stringify(a,null,2));var c=e.collectMessageParts(a,b);return e.joinParts(c)},e.isValidMessage=function(a){return a.address&&0===a.address.indexOf("/")},e.readBundle=function(a,b,c){return e.readPacket(a,b,c)},e.collectBundlePackets=function(a,b,c){c=c||{byteLength:0,parts:[]},e.addDataPart(e.writeString("#bundle"),c),e.addDataPart(e.writeTimeTag(a.timeTag),c);for(var d=0;d<a.packets.length;d++){var f=a.packets[d],g=f.address?e.collectMessageParts:e.collectBundlePackets,h=g(f,b);c.byteLength+=h.byteLength,e.addDataPart(e.writeInt32(h.byteLength),c),c.parts=c.parts.concat(h.parts)}return c},e.writeBundle=function(a,b){if(!e.isValidBundle(a))throw new Error("An OSC bundle must contain 'timeTag' and 'packets' properties. Bundle was: "+JSON.stringify(a,null,2));b=b||e.defaults;var c=e.collectBundlePackets(a,b);return e.joinParts(c)},e.isValidBundle=function(a){return void 0!==a.timeTag&&void 0!==a.packets},e.readBundleContents=function(a,b,c,d){for(var f=e.readTimeTag(a,c),g=[];c.idx<d;){var h=e.readInt32(a,c),i=c.idx+h,j=e.readPacket(a,b,c,i);g.push(j)}return{timeTag:f,packets:g}},e.readPacket=function(a,b,c,d){var f=e.dataView(a,a.byteOffset,a.length);d=void 0===d?f.byteLength:d,c=c||{idx:0};var g=e.readString(f,c),h=g[0];if("#"===h)return e.readBundleContents(f,b,c,d);if("/"===h)return e.readMessageContents(g,f,b,c);throw new Error("The header of an OSC packet didn't contain an OSC address or a #bundle string. Header was: "+g)},e.writePacket=function(a,b){if(e.isValidMessage(a))return e.writeMessage(a,b);if(e.isValidBundle(a))return e.writeBundle(a,b);throw new Error("The specified packet was not recognized as a valid OSC message or bundle. Packet was: "+JSON.stringify(a,null,2))},e.argumentTypes={i:{reader:"readInt32",writer:"writeInt32"},h:{reader:"readInt64",writer:"writeInt64"},f:{reader:"readFloat32",writer:"writeFloat32"},s:{reader:"readString",writer:"writeString"},S:{reader:"readString",writer:"writeString"},b:{reader:"readBlob",writer:"writeBlob"},t:{reader:"readTimeTag",writer:"writeTimeTag"},T:{reader:"readTrue"},F:{reader:"readFalse"},N:{reader:"readNull"},I:{reader:"readImpulse"},d:{reader:"readFloat64",writer:"writeFloat64"},c:{reader:"readChar32",writer:"writeChar32"},r:{reader:"readColor",writer:"writeColor"},m:{reader:"readMIDIBytes",writer:"writeMIDIBytes"}},e.inferTypeForArgument=function(a){var b=typeof a;switch(b){case"boolean":return a?"T":"F";case"string":return"s";case"number":return"f";case"undefined":return"N";case"object":if(null===a)return"N";if(a instanceof Uint8Array||a instanceof ArrayBuffer)return"b";if(a.high instanceof Number&&a.low instanceof Number)return"h"}throw new Error("Can't infer OSC argument type for value: "+JSON.stringify(a,null,2))},e.annotateArguments=function(a){e.isArray(a)||(a=[a]);for(var b=[],c=0;c<a.length;c++){var d,f=a[c];if("object"==typeof f&&f.type&&void 0!==f.value)d=f;else{var g=e.inferTypeForArgument(f);d={type:g,value:f}}b.push(d)}return b},e.isCommonJS&&(b.exports=e)}(),function(d){"use strict";var e=function(a,b,c){this.low=0|a,this.high=0|b,this.unsigned=!!c};e.isLong=function(a){return(a&&a instanceof e)===!0};var f={},g={};e.fromInt=function(a,b){var c,d;return b?(a>>>=0,a>=0&&256>a&&(d=g[a])?d:(c=new e(a,0>(0|a)?-1:0,!0),a>=0&&256>a&&(g[a]=c),c)):(a=0|a,a>=-128&&128>a&&(d=f[a])?d:(c=new e(a,0>a?-1:0,!1),a>=-128&&128>a&&(f[a]=c),c))},e.fromNumber=function(a,b){return b=!!b,isNaN(a)||!isFinite(a)?e.ZERO:!b&&-l>=a?e.MIN_VALUE:!b&&a+1>=l?e.MAX_VALUE:b&&a>=k?e.MAX_UNSIGNED_VALUE:0>a?e.fromNumber(-a,b).negate():new e(a%j|0,a/j|0,b)},e.fromBits=function(a,b,c){return new e(a,b,c)},e.fromString=function(a,b,c){if(0===a.length)throw Error("number format error: empty string");if("NaN"===a||"Infinity"===a||"+Infinity"===a||"-Infinity"===a)return e.ZERO;if("number"==typeof b&&(c=b,b=!1),c=c||10,2>c||c>36)throw Error("radix out of range: "+c);var d;if((d=a.indexOf("-"))>0)throw Error('number format error: interior "-" character: '+a);if(0===d)return e.fromString(a.substring(1),b,c).negate();for(var f=e.fromNumber(Math.pow(c,8)),g=e.ZERO,h=0;h<a.length;h+=8){var i=Math.min(8,a.length-h),j=parseInt(a.substring(h,h+i),c);if(8>i){var k=e.fromNumber(Math.pow(c,i));g=g.multiply(k).add(e.fromNumber(j))}else g=g.multiply(f),g=g.add(e.fromNumber(j))}return g.unsigned=b,g},e.fromValue=function(a){return"number"==typeof a?e.fromNumber(a):"string"==typeof a?e.fromString(a):e.isLong(a)?a:new e(a.low,a.high,a.unsigned)};var h=65536,i=1<<24,j=h*h,k=j*j,l=k/2,m=e.fromInt(i);e.ZERO=e.fromInt(0),e.UZERO=e.fromInt(0,!0),e.ONE=e.fromInt(1),e.UONE=e.fromInt(1,!0),e.NEG_ONE=e.fromInt(-1),e.MAX_VALUE=e.fromBits(-1,2147483647,!1),e.MAX_UNSIGNED_VALUE=e.fromBits(-1,-1,!0),e.MIN_VALUE=e.fromBits(0,-2147483648,!1),e.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},e.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*j+(this.low>>>0):this.high*j+(this.low>>>0)},e.prototype.toString=function(a){if(a=a||10,2>a||a>36)throw RangeError("radix out of range: "+a);if(this.isZero())return"0";var b;if(this.isNegative()){if(this.equals(e.MIN_VALUE)){var c=e.fromNumber(a),d=this.div(c);return b=d.multiply(c).subtract(this),d.toString(a)+b.toInt().toString(a)}return"-"+this.negate().toString(a)}var f=e.fromNumber(Math.pow(a,6),this.unsigned);b=this;for(var g="";;){var h=b.div(f),i=b.subtract(h.multiply(f)).toInt()>>>0,j=i.toString(a);if(b=h,b.isZero())return j+g;for(;j.length<6;)j="0"+j;g=""+j+g}},e.prototype.getHighBits=function(){return this.high},e.prototype.getHighBitsUnsigned=function(){return this.high>>>0},e.prototype.getLowBits=function(){return this.low},e.prototype.getLowBitsUnsigned=function(){return this.low>>>0},e.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(e.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var a=0!=this.high?this.high:this.low,b=31;b>0&&0==(a&1<<b);b--);return 0!=this.high?b+33:b+1},e.prototype.isZero=function(){return 0===this.high&&0===this.low},e.prototype.isNegative=function(){return!this.unsigned&&this.high<0},e.prototype.isPositive=function(){return this.unsigned||this.high>=0},e.prototype.isOdd=function(){return 1===(1&this.low)},e.prototype.isEven=function(){return 0===(1&this.low)},e.prototype.equals=function(a){return e.isLong(a)||(a=e.fromValue(a)),this.unsigned!==a.unsigned&&this.high>>>31===1&&a.high>>>31===1?!1:this.high===a.high&&this.low===a.low},e.prototype.notEquals=function(a){return e.isLong(a)||(a=e.fromValue(a)),!this.equals(a)},e.prototype.lessThan=function(a){return e.isLong(a)||(a=e.fromValue(a)),this.compare(a)<0},e.prototype.lessThanOrEqual=function(a){return e.isLong(a)||(a=e.fromValue(a)),this.compare(a)<=0},e.prototype.greaterThan=function(a){return e.isLong(a)||(a=e.fromValue(a)),this.compare(a)>0},e.prototype.greaterThanOrEqual=function(a){return e.isLong(a)||(a=e.fromValue(a)),this.compare(a)>=0},e.prototype.compare=function(a){if(this.equals(a))return 0;var b=this.isNegative(),c=a.isNegative();return b&&!c?-1:!b&&c?1:this.unsigned?a.high>>>0>this.high>>>0||a.high===this.high&&a.low>>>0>this.low>>>0?-1:1:this.subtract(a).isNegative()?-1:1},e.prototype.negate=function(){return!this.unsigned&&this.equals(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)},e.prototype.add=function(a){e.isLong(a)||(a=e.fromValue(a));var b=this.high>>>16,c=65535&this.high,d=this.low>>>16,f=65535&this.low,g=a.high>>>16,h=65535&a.high,i=a.low>>>16,j=65535&a.low,k=0,l=0,m=0,n=0;return n+=f+j,m+=n>>>16,n&=65535,m+=d+i,l+=m>>>16,m&=65535,l+=c+h,k+=l>>>16,l&=65535,k+=b+g,k&=65535,e.fromBits(m<<16|n,k<<16|l,this.unsigned)},e.prototype.subtract=function(a){return e.isLong(a)||(a=e.fromValue(a)),this.add(a.negate())},e.prototype.multiply=function(a){if(this.isZero())return e.ZERO;if(e.isLong(a)||(a=e.fromValue(a)),a.isZero())return e.ZERO;if(this.equals(e.MIN_VALUE))return a.isOdd()?e.MIN_VALUE:e.ZERO;if(a.equals(e.MIN_VALUE))return this.isOdd()?e.MIN_VALUE:e.ZERO;if(this.isNegative())return a.isNegative()?this.negate().multiply(a.negate()):this.negate().multiply(a).negate();if(a.isNegative())return this.multiply(a.negate()).negate();if(this.lessThan(m)&&a.lessThan(m))return e.fromNumber(this.toNumber()*a.toNumber(),this.unsigned);var b=this.high>>>16,c=65535&this.high,d=this.low>>>16,f=65535&this.low,g=a.high>>>16,h=65535&a.high,i=a.low>>>16,j=65535&a.low,k=0,l=0,n=0,o=0;return o+=f*j,n+=o>>>16,o&=65535,n+=d*j,l+=n>>>16,n&=65535,n+=f*i,l+=n>>>16,n&=65535,l+=c*j,k+=l>>>16,l&=65535,l+=d*i,k+=l>>>16,l&=65535,l+=f*h,k+=l>>>16,l&=65535,k+=b*j+c*i+d*h+f*g,k&=65535,e.fromBits(n<<16|o,k<<16|l,this.unsigned)},e.prototype.div=function(a){if(e.isLong(a)||(a=e.fromValue(a)),a.isZero())throw new Error("division by zero");if(this.isZero())return this.unsigned?e.UZERO:e.ZERO;var b,c,d;if(this.equals(e.MIN_VALUE)){if(a.equals(e.ONE)||a.equals(e.NEG_ONE))return e.MIN_VALUE;if(a.equals(e.MIN_VALUE))return e.ONE;var f=this.shiftRight(1);return b=f.div(a).shiftLeft(1),b.equals(e.ZERO)?a.isNegative()?e.ONE:e.NEG_ONE:(c=this.subtract(a.multiply(b)),d=b.add(c.div(a)))}if(a.equals(e.MIN_VALUE))return this.unsigned?e.UZERO:e.ZERO;if(this.isNegative())return a.isNegative()?this.negate().div(a.negate()):this.negate().div(a).negate();if(a.isNegative())return this.div(a.negate()).negate();for(d=e.ZERO,c=this;c.greaterThanOrEqual(a);){b=Math.max(1,Math.floor(c.toNumber()/a.toNumber()));for(var g=Math.ceil(Math.log(b)/Math.LN2),h=48>=g?1:Math.pow(2,g-48),i=e.fromNumber(b),j=i.multiply(a);j.isNegative()||j.greaterThan(c);)b-=h,i=e.fromNumber(b,this.unsigned),j=i.multiply(a);i.isZero()&&(i=e.ONE),d=d.add(i),c=c.subtract(j)}return d},e.prototype.modulo=function(a){return e.isLong(a)||(a=e.fromValue(a)),this.subtract(this.div(a).multiply(a))},e.prototype.not=function(){return e.fromBits(~this.low,~this.high,this.unsigned)},e.prototype.and=function(a){return e.isLong(a)||(a=e.fromValue(a)),e.fromBits(this.low&a.low,this.high&a.high,this.unsigned)},e.prototype.or=function(a){return e.isLong(a)||(a=e.fromValue(a)),e.fromBits(this.low|a.low,this.high|a.high,this.unsigned)},e.prototype.xor=function(a){return e.isLong(a)||(a=e.fromValue(a)),e.fromBits(this.low^a.low,this.high^a.high,this.unsigned)},e.prototype.shiftLeft=function(a){return e.isLong(a)&&(a=a.toInt()),0===(a&=63)?this:32>a?e.fromBits(this.low<<a,this.high<<a|this.low>>>32-a,this.unsigned):e.fromBits(0,this.low<<a-32,this.unsigned)},e.prototype.shiftRight=function(a){return e.isLong(a)&&(a=a.toInt()),0===(a&=63)?this:32>a?e.fromBits(this.low>>>a|this.high<<32-a,this.high>>a,this.unsigned):e.fromBits(this.high>>a-32,this.high>=0?0:-1,this.unsigned)},e.prototype.shiftRightUnsigned=function(a){if(e.isLong(a)&&(a=a.toInt()),a&=63,0===a)return this;var b=this.high;if(32>a){var c=this.low;return e.fromBits(c>>>a|b<<32-a,b>>>a,this.unsigned)}return 32===a?e.fromBits(b,0,this.unsigned):e.fromBits(b>>>a-32,0,this.unsigned)},e.prototype.toSigned=function(){return this.unsigned?new e(this.low,this.high,!1):this},e.prototype.toUnsigned=function(){return this.unsigned?this:new e(this.low,this.high,!0)},"function"==typeof a&&"object"==typeof b&&b&&"object"==typeof c&&c?b.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):(d.dcodeIO=d.dcodeIO||{}).Long=e}(this),function(a,b){"use strict";"object"==typeof c?(a.slip=c,b(c)):"function"==typeof define&&define.amd?define(["exports"],function(c){return a.slip=c,a.slip,b(c)}):(a.slip={},b(a.slip))}(this,function(a){"use strict";var b=a;b.END=192,b.ESC=219,b.ESC_END=220,b.ESC_ESC=221,b.byteArray=function(a,b,c){return a instanceof ArrayBuffer?new Uint8Array(a,b,c):a},b.expandByteArray=function(a){var b=new Uint8Array(2*a.length);return b.set(a),b},b.sliceByteArray=function(a,b,c){var d=a.buffer.slice?a.buffer.slice(b,c):a.subarray(b,c);return new Uint8Array(d)},b.encode=function(a,c){c=c||{},c.bufferPadding=c.bufferPadding||4,a=b.byteArray(a,c.offset,c.byteLength);var d=a.length+c.bufferPadding+3&-4,e=new Uint8Array(d),f=1;e[0]=b.END;for(var g=0;g<a.length;g++){f>e.length-3&&(e=b.expandByteArray(e));var h=a[g];h===b.END?(e[f++]=b.ESC,h=b.ESC_END):h===b.ESC&&(e[f++]=b.ESC,h=b.ESC_ESC),e[f++]=h}return e[f]=b.END,b.sliceByteArray(e,0,f+1)},b.Decoder=function(a){a="function"!=typeof a?a||{}:{onMessage:a},this.maxMessageSize=a.maxMessageSize||10485760,this.bufferSize=a.bufferSize||1024,this.msgBuffer=new Uint8Array(this.bufferSize),this.msgBufferIdx=0,this.onMessage=a.onMessage,this.onError=a.onError,this.escape=!1};var c=b.Decoder.prototype;return c.decode=function(a){a=b.byteArray(a);for(var c,d=0;d<a.length;d++){var e=a[d];if(this.escape)e===b.ESC_ESC?e=b.ESC:e===b.ESC_END&&(e=b.END);else{if(e===b.ESC){this.escape=!0;continue}if(e===b.END){c=this.handleEnd();continue}}var f=this.addByte(e);f||this.handleMessageMaxError()}return c},c.handleMessageMaxError=function(){this.onError&&this.onError(this.msgBuffer.subarray(0),"The message is too large; the maximum message size is "+this.maxMessageSize/1024+"KB. Use a larger maxMessageSize if necessary."),this.msgBufferIdx=0,this.escape=!1},c.addByte=function(a){return this.msgBufferIdx>this.msgBuffer.length-1&&(this.msgBuffer=b.expandByteArray(this.msgBuffer)),this.msgBuffer[this.msgBufferIdx++]=a,this.escape=!1,this.msgBuffer.length<this.maxMessageSize},c.handleEnd=function(){if(0!==this.msgBufferIdx){var a=b.sliceByteArray(this.msgBuffer,0,this.msgBufferIdx);return this.onMessage&&this.onMessage(a),this.msgBufferIdx=0,a}},b}),function(){"use strict";function a(){}function c(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function d(a){return function(){return this[a].apply(this,arguments)}}var e=a.prototype,f=this,g=f.EventEmitter;e.getListeners=function(a){var b,c,d=this._getEvents();if(a instanceof RegExp){b={};for(c in d)d.hasOwnProperty(c)&&a.test(c)&&(b[c]=d[c])}else b=d[a]||(d[a]=[]);return b},e.flattenListeners=function(a){var b,c=[];for(b=0;b<a.length;b+=1)c.push(a[b].listener);return c},e.getListenersAsObject=function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c},e.addListener=function(a,b){var d,e=this.getListenersAsObject(a),f="object"==typeof b;for(d in e)e.hasOwnProperty(d)&&-1===c(e[d],b)&&e[d].push(f?b:{listener:b,once:!1});return this},e.on=d("addListener"),e.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},e.once=d("addOnceListener"),e.defineEvent=function(a){return this.getListeners(a),this},e.defineEvents=function(a){for(var b=0;b<a.length;b+=1)this.defineEvent(a[b]);return this},e.removeListener=function(a,b){var d,e,f=this.getListenersAsObject(a);for(e in f)f.hasOwnProperty(e)&&(d=c(f[e],b),-1!==d&&f[e].splice(d,1));return this},e.off=d("removeListener"),e.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},e.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},e.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(d=c.length;d--;)f.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&("function"==typeof e?f.call(this,d,e):g.call(this,d,e));return this},e.removeEvent=function(a){var b,c=typeof a,d=this._getEvents();if("string"===c)delete d[a];else if(a instanceof RegExp)for(b in d)d.hasOwnProperty(b)&&a.test(b)&&delete d[b];else delete this._events;return this},e.removeAllListeners=d("removeEvent"),e.emitEvent=function(a,b){var c,d,e,f,g=this.getListenersAsObject(a);for(e in g)if(g.hasOwnProperty(e))for(d=g[e].length;d--;)c=g[e][d],c.once===!0&&this.removeListener(a,c.listener),f=c.listener.apply(this,b||[]),f===this._getOnceReturnValue()&&this.removeListener(a,c.listener);return this},e.trigger=d("emitEvent"),e.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},e.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},e._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},e._getEvents=function(){return this._events||(this._events={})},a.noConflict=function(){return f.EventEmitter=g,a},"function"==typeof define&&define.amd?define(function(){return a}):"object"==typeof b&&b.exports?b.exports=a:f.EventEmitter=a}.call(this);var e=e||a("./osc.js"),f=f||a("slip"),g=g||a("events").EventEmitter;!function(){"use strict";e.firePacketEvents=function(a,b,c){b.address?a.emit("message",b,c):e.fireBundleEvents(a,b,c)},e.fireBundleEvents=function(a,b,c){a.emit("bundle",b,c);for(var d=0;d<b.packets.length;d++){var f=b.packets[d];e.firePacketEvents(a,f,b.timeTag)}},e.Port=function(a){this.options=a||{},this.on("data",this.decodeOSC.bind(this))};var a=e.Port.prototype=Object.create(g.prototype);a.constructor=e.Port,a.send=function(a){var b=Array.prototype.slice.call(arguments),c=this.encodeOSC(a),d=e.nativeBuffer(c);b[0]=d,this.sendRaw.apply(this,b)},a.encodeOSC=function(a){a=a.buffer?a.buffer:a;var b;try{b=e.writePacket(a,this.options)}catch(c){this.emit("error",c)}return b},a.decodeOSC=function(a){a=e.byteArray(a),this.emit("raw",a);try{var b=e.readPacket(a,this.options);this.emit("osc",b),e.firePacketEvents(this,b)}catch(c){this.emit("error",c)}},e.SLIPPort=function(a){var b=this,c=this.options=a||{};c.useSLIP=void 0===c.useSLIP?!0:c.useSLIP,this.decoder=new f.Decoder({onMessage:this.decodeOSC.bind(this),onError:function(a){b.emit("error",a)}});var d=c.useSLIP?this.decodeSLIPData:this.decodeOSC;this.on("data",d.bind(this))},a=e.SLIPPort.prototype=Object.create(e.Port.prototype),a.constructor=e.SLIPPort,a.encodeOSC=function(a){a=a.buffer?a.buffer:a;var b;try{var c=e.writePacket(a,this.options);b=f.encode(c)}catch(d){this.emit("error",d)}return b},a.decodeSLIPData=function(a){this.decoder.decode(a)},e.relay=function(a,b,c,d,e,f){c=c||"message",d=d||"send",e=e||function(){},f=f?[null].concat(f):[];var g=function(a){f[0]=a,a=e(a),b[d].apply(b,f)};return a.on(c,g),{eventName:c,listener:g}},e.relayPorts=function(a,b,c){var d=c.raw?"raw":"osc",f=c.raw?"sendRaw":"send";return e.relay(a,b,d,f,c.transform)},e.stopRelaying=function(a,b){
a.removeListener(b.eventName,b.listener)},e.Relay=function(a,b,c){var d=this.options=c||{};d.raw=!1,this.port1=a,this.port2=b,this.listen()},a=e.Relay.prototype=Object.create(g.prototype),a.constructor=e.Relay,a.open=function(){this.port1.open(),this.port2.open()},a.listen=function(){this.port1Spec&&this.port2Spec&&this.close(),this.port1Spec=e.relayPorts(this.port1,this.port2,this.options),this.port2Spec=e.relayPorts(this.port2,this.port1,this.options);var a=this.close.bind(this);this.port1.on("close",a),this.port2.on("close",a)},a.close=function(){e.stopRelaying(this.port1,this.port1Spec),e.stopRelaying(this.port2,this.port2Spec),this.emit("close",this.port1,this.port2)},"undefined"!=typeof b&&b.exports&&(b.exports=e)}();var e=e;!function(){"use strict";e.WebSocketPort=function(a){e.Port.call(this,a),this.on("open",this.listen.bind(this)),this.socket=a.socket,this.socket&&(1===this.socket.readyState?this.emit("open",this.socket):this.open())};var a=e.WebSocketPort.prototype=Object.create(e.Port.prototype);a.constructor=e.WebSocketPort,a.open=function(){this.socket||(this.socket=new WebSocket(this.options.url)),this.socket.binaryType="arraybuffer";var a=this;this.socket.onopen=function(){a.emit("open",a.socket)}},a.listen=function(){var a=this;this.socket.onmessage=function(b){a.emit("data",b.data)},this.socket.onerror=function(b){a.emit("error",b)},this.socket.onclose=function(b){a.emit("close",b)},a.emit("ready")},a.sendRaw=function(a){this.socket&&this.socket.send(a.buffer)},a.close=function(a,b){this.socket.close(a,b)}}()}).call(this,a("buffer").Buffer)},{"./osc.js":8,buffer:1,events:5,"long":9,slip:10}],8:[function(a,b,c){(function(c){var d=d||{};!function(){"use strict";d.SECS_70YRS=2208988800,d.TWO_32=4294967296,d.defaults={metadata:!1,unpackSingleArgs:!0},d.isBufferEnv="undefined"!=typeof c,d.isCommonJS="undefined"!=typeof b&&b.exports,d.isNode=d.isCommonJS&&"undefined"==typeof window,d.isArray=function(a){return a&&"[object Array]"===Object.prototype.toString.call(a)},d.isTypedArrayView=function(a){return a.buffer&&a.buffer instanceof ArrayBuffer},d.isBuffer=function(a){return d.isBufferEnv&&a instanceof c};var e="undefined"!=typeof dcodeIO?dcodeIO.Long:"undefined"!=typeof e?e:d.isNode?a("long"):void 0;d.dataView=function(a,b,c){return a.buffer?new DataView(a.buffer,b,c):a instanceof ArrayBuffer?new DataView(a,b,c):new DataView(new Uint8Array(a),b,c)},d.byteArray=function(a){if(a instanceof Uint8Array)return a;var b=a.buffer?a.buffer:a;if(!(b instanceof ArrayBuffer||"undefined"!=typeof b.length&&"string"!=typeof b))throw new Error("Can't wrap a non-array-like object as Uint8Array. Object was: "+JSON.stringify(a,null,2));return new Uint8Array(b)},d.nativeBuffer=function(a){return d.isBufferEnv?d.isBuffer(a)?a:new c(a.buffer?a:new Uint8Array(a)):d.isTypedArrayView(a)?a:new Uint8Array(a)},d.copyByteArray=function(a,b,c){if(d.isTypedArrayView(a)&&d.isTypedArrayView(b))b.set(a,c);else for(var e=void 0===c?0:c,f=Math.min(b.length-c,a.length),g=0,h=e;f>g;g++,h++)b[h]=a[g];return b},d.readString=function(a,b){for(var c=[],d=b.idx;d<a.byteLength;d++){var e=a.getUint8(d);if(0===e){d++;break}c.push(e)}return d=d+3&-4,b.idx=d,String.fromCharCode.apply(null,c)},d.writeString=function(a){for(var b=a+"\x00",c=b.length,d=c+3&-4,e=new Uint8Array(d),f=0;f<b.length;f++){var g=b.charCodeAt(f);e[f]=g}return e},d.readPrimitive=function(a,b,c,d){var e=a[b](d.idx,!1);return d.idx+=c,e},d.writePrimitive=function(a,b,c,d,e){e=void 0===e?0:e;var f;return b?f=new Uint8Array(b.buffer):(f=new Uint8Array(d),b=new DataView(f.buffer)),b[c](e,a,!1),f},d.readInt32=function(a,b){return d.readPrimitive(a,"getInt32",4,b)},d.writeInt32=function(a,b,c){return d.writePrimitive(a,b,"setInt32",4,c)},d.readInt64=function(a,b){var c=d.readPrimitive(a,"getInt32",4,b),f=d.readPrimitive(a,"getInt32",4,b);return e?new e(f,c):{high:c,low:f,unsigned:!1}},d.writeInt64=function(a,b,c){var e=new Uint8Array(8);return e.set(d.writePrimitive(a.high,b,"setInt32",4,c),0),e.set(d.writePrimitive(a.low,b,"setInt32",4,c+4),4),e},d.readFloat32=function(a,b){return d.readPrimitive(a,"getFloat32",4,b)},d.writeFloat32=function(a,b,c){return d.writePrimitive(a,b,"setFloat32",4,c)},d.readFloat64=function(a,b){return d.readPrimitive(a,"getFloat64",8,b)},d.writeFloat64=function(a,b,c){return d.writePrimitive(a,b,"setFloat64",8,c)},d.readChar32=function(a,b){var c=d.readPrimitive(a,"getUint32",4,b);return String.fromCharCode(c)},d.writeChar32=function(a,b,c){var e=a.charCodeAt(0);return void 0===e||-1>e?void 0:d.writePrimitive(e,b,"setUint32",4,c)},d.readBlob=function(a,b){var c=d.readInt32(a,b),e=c+3&-4,f=new Uint8Array(a.buffer,b.idx,c);return b.idx+=e,f},d.writeBlob=function(a){a=d.byteArray(a);var b=a.byteLength,c=b+3&-4,e=4,f=c+e,g=new Uint8Array(f),h=new DataView(g.buffer);return d.writeInt32(b,h),g.set(a,e),g},d.readMIDIBytes=function(a,b){var c=new Uint8Array(a.buffer,b.idx,4);return b.idx+=4,c},d.writeMIDIBytes=function(a){a=d.byteArray(a);var b=new Uint8Array(4);return b.set(a),b},d.readColor=function(a,b){var c=new Uint8Array(a.buffer,b.idx,4),d=c[3]/255;return b.idx+=4,{r:c[0],g:c[1],b:c[2],a:d}},d.writeColor=function(a){var b=Math.round(255*a.a),c=new Uint8Array([a.r,a.g,a.b,b]);return c},d.readTrue=function(){return!0},d.readFalse=function(){return!1},d.readNull=function(){return null},d.readImpulse=function(){return 1},d.readTimeTag=function(a,b){var c=d.readPrimitive(a,"getUint32",4,b),e=d.readPrimitive(a,"getUint32",4,b),f=0===c&&1===e?Date.now():d.ntpToJSTime(c,e);return{raw:[c,e],"native":f}},d.writeTimeTag=function(a){var b=a.raw?a.raw:d.jsToNTPTime(a["native"]),c=new Uint8Array(8),e=new DataView(c.buffer);return d.writeInt32(b[0],e,0),d.writeInt32(b[1],e,4),c},d.timeTag=function(a,b){a=a||0,b=b||Date.now();var c=b/1e3,e=Math.floor(c),f=c-e,g=Math.floor(a),h=a-g,i=f+h;if(i>1){var j=Math.floor(i),k=i-j;g+=j,i=k}var l=e+g+d.SECS_70YRS,m=Math.round(d.TWO_32*i);return{raw:[l,m]}},d.ntpToJSTime=function(a,b){var c=a-d.SECS_70YRS,e=b/d.TWO_32,f=1e3*(c+e);return f},d.jsToNTPTime=function(a){var b=a/1e3,c=Math.floor(b),e=b-c,f=c+d.SECS_70YRS,g=Math.round(d.TWO_32*e);return[f,g]},d.readArguments=function(a,b,c){var e=d.readString(a,c);if(0!==e.indexOf(","))throw new Error("A malformed type tag string was found while reading the arguments of an OSC message. String was: "+e," at offset: "+c.idx);var f=e.substring(1).split(""),g=[];return d.readArgumentsIntoArray(g,f,e,a,b,c),g},d.readArgument=function(a,b,c,e,f){var g=d.argumentTypes[a];if(!g)throw new Error("'"+a+"' is not a valid OSC type tag. Type tag string was: "+b);var h=g.reader,i=d[h](c,f);return e.metadata&&(i={type:a,value:i}),i},d.readArgumentsIntoArray=function(a,b,c,e,f,g){for(var h=0;h<b.length;){var i,j=b[h];if("["===j){var k=b.slice(h+1),l=k.indexOf("]");if(0>l)throw new Error("Invalid argument type tag: an open array type tag ('[') was found without a matching close array tag ('[]'). Type tag was: "+c);var m=k.slice(0,l);i=d.readArgumentsIntoArray([],m,c,e,f,g),h+=l+2}else i=d.readArgument(j,c,e,f,g),h++;a.push(i)}return a},d.writeArguments=function(a,b){var c=d.collectArguments(a,b);return d.joinParts(c)},d.joinParts=function(a){for(var b=new Uint8Array(a.byteLength),c=a.parts,e=0,f=0;f<c.length;f++){var g=c[f];d.copyByteArray(g,b,e),e+=g.length}return b},d.addDataPart=function(a,b){b.parts.push(a),b.byteLength+=a.length},d.writeArrayArguments=function(a,b){for(var c="[",e=0;e<a.length;e++){var f=a[e];c+=d.writeArgument(f,b)}return c+="]"},d.writeArgument=function(a,b){if(d.isArray(a))return d.writeArrayArguments(a,b);var c=a.type,e=d.argumentTypes[c].writer;if(e){var f=d[e](a.value);d.addDataPart(f,b)}return a.type},d.collectArguments=function(a,b,c){d.isArray(a)||(a=[a]),c=c||{byteLength:0,parts:[]},b.metadata||(a=d.annotateArguments(a));for(var e=",",f=c.parts.length,g=0;g<a.length;g++){var h=a[g];e+=d.writeArgument(h,c)}var i=d.writeString(e);return c.byteLength+=i.byteLength,c.parts.splice(f,0,i),c},d.readMessage=function(a,b,c){b=b||d.defaults;var e=d.dataView(a,a.byteOffset,a.length);c=c||{idx:0};var f=d.readString(e,c);return d.readMessageContents(f,e,b,c)},d.readMessageContents=function(a,b,c,e){if(0!==a.indexOf("/"))throw new Error("A malformed OSC address was found while reading an OSC message. String was: "+a);var f=d.readArguments(b,c,e);return{address:a,args:1===f.length&&c.unpackSingleArgs?f[0]:f}},d.collectMessageParts=function(a,b,c){return c=c||{byteLength:0,parts:[]},d.addDataPart(d.writeString(a.address),c),d.collectArguments(a.args,b,c)},d.writeMessage=function(a,b){if(b=b||d.defaults,!d.isValidMessage(a))throw new Error("An OSC message must contain a valid address. Message was: "+JSON.stringify(a,null,2));var c=d.collectMessageParts(a,b);return d.joinParts(c)},d.isValidMessage=function(a){return a.address&&0===a.address.indexOf("/")},d.readBundle=function(a,b,c){return d.readPacket(a,b,c)},d.collectBundlePackets=function(a,b,c){c=c||{byteLength:0,parts:[]},d.addDataPart(d.writeString("#bundle"),c),d.addDataPart(d.writeTimeTag(a.timeTag),c);for(var e=0;e<a.packets.length;e++){var f=a.packets[e],g=f.address?d.collectMessageParts:d.collectBundlePackets,h=g(f,b);c.byteLength+=h.byteLength,d.addDataPart(d.writeInt32(h.byteLength),c),c.parts=c.parts.concat(h.parts)}return c},d.writeBundle=function(a,b){if(!d.isValidBundle(a))throw new Error("An OSC bundle must contain 'timeTag' and 'packets' properties. Bundle was: "+JSON.stringify(a,null,2));b=b||d.defaults;var c=d.collectBundlePackets(a,b);return d.joinParts(c)},d.isValidBundle=function(a){return void 0!==a.timeTag&&void 0!==a.packets},d.readBundleContents=function(a,b,c,e){for(var f=d.readTimeTag(a,c),g=[];c.idx<e;){var h=d.readInt32(a,c),i=c.idx+h,j=d.readPacket(a,b,c,i);g.push(j)}return{timeTag:f,packets:g}},d.readPacket=function(a,b,c,e){var f=d.dataView(a,a.byteOffset,a.length);e=void 0===e?f.byteLength:e,c=c||{idx:0};var g=d.readString(f,c),h=g[0];if("#"===h)return d.readBundleContents(f,b,c,e);if("/"===h)return d.readMessageContents(g,f,b,c);throw new Error("The header of an OSC packet didn't contain an OSC address or a #bundle string. Header was: "+g)},d.writePacket=function(a,b){if(d.isValidMessage(a))return d.writeMessage(a,b);if(d.isValidBundle(a))return d.writeBundle(a,b);throw new Error("The specified packet was not recognized as a valid OSC message or bundle. Packet was: "+JSON.stringify(a,null,2))},d.argumentTypes={i:{reader:"readInt32",writer:"writeInt32"},h:{reader:"readInt64",writer:"writeInt64"},f:{reader:"readFloat32",writer:"writeFloat32"},s:{reader:"readString",writer:"writeString"},S:{reader:"readString",writer:"writeString"},b:{reader:"readBlob",writer:"writeBlob"},t:{reader:"readTimeTag",writer:"writeTimeTag"},T:{reader:"readTrue"},F:{reader:"readFalse"},N:{reader:"readNull"},I:{reader:"readImpulse"},d:{reader:"readFloat64",writer:"writeFloat64"},c:{reader:"readChar32",writer:"writeChar32"},r:{reader:"readColor",writer:"writeColor"},m:{reader:"readMIDIBytes",writer:"writeMIDIBytes"}},d.inferTypeForArgument=function(a){var b=typeof a;switch(b){case"boolean":return a?"T":"F";case"string":return"s";case"number":return"f";case"undefined":return"N";case"object":if(null===a)return"N";if(a instanceof Uint8Array||a instanceof ArrayBuffer)return"b";if(a.high instanceof Number&&a.low instanceof Number)return"h"}throw new Error("Can't infer OSC argument type for value: "+JSON.stringify(a,null,2))},d.annotateArguments=function(a){d.isArray(a)||(a=[a]);for(var b=[],c=0;c<a.length;c++){var e,f=a[c];if("object"==typeof f&&f.type&&void 0!==f.value)e=f;else{var g=d.inferTypeForArgument(f);e={type:g,value:f}}b.push(e)}return b},d.isCommonJS&&(b.exports=d)}()}).call(this,a("buffer").Buffer)},{buffer:1,"long":9}],9:[function(a,b,c){!function(c,d){"function"==typeof define&&define.amd?define([],d):"function"==typeof a&&"object"==typeof b&&b&&b.exports?b.exports=d():(c.dcodeIO=c.dcodeIO||{}).Long=d()}(this,function(){"use strict";function a(a,b,c){this.low=0|a,this.high=0|b,this.unsigned=!!c}a.__isLong__,Object.defineProperty(a.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),a.isLong=function(a){return(a&&a.__isLong__)===!0};var b={},c={};a.fromInt=function(d,e){var f,g;return e?(d>>>=0,d>=0&&256>d&&(g=c[d])?g:(f=new a(d,0>(0|d)?-1:0,!0),d>=0&&256>d&&(c[d]=f),f)):(d=0|d,d>=-128&&128>d&&(g=b[d])?g:(f=new a(d,0>d?-1:0,!1),d>=-128&&128>d&&(b[d]=f),f))},a.fromNumber=function(b,c){return c=!!c,isNaN(b)||!isFinite(b)?a.ZERO:!c&&-h>=b?a.MIN_VALUE:!c&&b+1>=h?a.MAX_VALUE:c&&b>=g?a.MAX_UNSIGNED_VALUE:0>b?a.fromNumber(-b,c).negate():new a(b%f|0,b/f|0,c)},a.fromBits=function(b,c,d){return new a(b,c,d)},a.fromString=function(b,c,d){if(0===b.length)throw Error("number format error: empty string");if("NaN"===b||"Infinity"===b||"+Infinity"===b||"-Infinity"===b)return a.ZERO;if("number"==typeof c&&(d=c,c=!1),d=d||10,2>d||d>36)throw Error("radix out of range: "+d);var e;if((e=b.indexOf("-"))>0)throw Error('number format error: interior "-" character: '+b);if(0===e)return a.fromString(b.substring(1),c,d).negate();for(var f=a.fromNumber(Math.pow(d,8)),g=a.ZERO,h=0;h<b.length;h+=8){var i=Math.min(8,b.length-h),j=parseInt(b.substring(h,h+i),d);if(8>i){var k=a.fromNumber(Math.pow(d,i));g=g.multiply(k).add(a.fromNumber(j))}else g=g.multiply(f),g=g.add(a.fromNumber(j))}return g.unsigned=c,g},a.fromValue=function(b){return b instanceof a?b:"number"==typeof b?a.fromNumber(b):"string"==typeof b?a.fromString(b):new a(b.low,b.high,b.unsigned)};var d=65536,e=1<<24,f=d*d,g=f*f,h=g/2,i=a.fromInt(e);return a.ZERO=a.fromInt(0),a.UZERO=a.fromInt(0,!0),a.ONE=a.fromInt(1),a.UONE=a.fromInt(1,!0),a.NEG_ONE=a.fromInt(-1),a.MAX_VALUE=a.fromBits(-1,2147483647,!1),a.MAX_UNSIGNED_VALUE=a.fromBits(-1,-1,!0),a.MIN_VALUE=a.fromBits(0,-2147483648,!1),a.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},a.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*f+(this.low>>>0):this.high*f+(this.low>>>0)},a.prototype.toString=function(b){if(b=b||10,2>b||b>36)throw RangeError("radix out of range: "+b);if(this.isZero())return"0";var c;if(this.isNegative()){if(this.equals(a.MIN_VALUE)){var d=a.fromNumber(b),e=this.divide(d);return c=e.multiply(d).subtract(this),e.toString(b)+c.toInt().toString(b)}return"-"+this.negate().toString(b)}var f=a.fromNumber(Math.pow(b,6),this.unsigned);c=this;for(var g="";;){var h=c.divide(f),i=c.subtract(h.multiply(f)).toInt()>>>0,j=i.toString(b);if(c=h,c.isZero())return j+g;for(;j.length<6;)j="0"+j;g=""+j+g}},a.prototype.getHighBits=function(){return this.high},a.prototype.getHighBitsUnsigned=function(){return this.high>>>0},a.prototype.getLowBits=function(){return this.low},a.prototype.getLowBitsUnsigned=function(){return this.low>>>0},a.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(a.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var b=0!=this.high?this.high:this.low,c=31;c>0&&0==(b&1<<c);c--);return 0!=this.high?c+33:c+1},a.prototype.isZero=function(){return 0===this.high&&0===this.low},a.prototype.isNegative=function(){return!this.unsigned&&this.high<0},a.prototype.isPositive=function(){return this.unsigned||this.high>=0},a.prototype.isOdd=function(){return 1===(1&this.low)},a.prototype.isEven=function(){return 0===(1&this.low)},a.prototype.equals=function(b){return a.isLong(b)||(b=a.fromValue(b)),this.unsigned!==b.unsigned&&this.high>>>31===1&&b.high>>>31===1?!1:this.high===b.high&&this.low===b.low},a.eq=a.prototype.equals,a.prototype.notEquals=function(a){return!this.equals(a)},a.neq=a.prototype.notEquals,a.prototype.lessThan=function(a){return this.compare(a)<0},a.prototype.lt=a.prototype.lessThan,a.prototype.lessThanOrEqual=function(a){return this.compare(a)<=0},a.prototype.lte=a.prototype.lessThanOrEqual,a.prototype.greaterThan=function(a){return this.compare(a)>0},a.prototype.gt=a.prototype.greaterThan,a.prototype.greaterThanOrEqual=function(a){return this.compare(a)>=0},a.prototype.gte=a.prototype.greaterThanOrEqual,a.prototype.compare=function(b){if(a.isLong(b)||(b=a.fromValue(b)),this.equals(b))return 0;var c=this.isNegative(),d=b.isNegative();return c&&!d?-1:!c&&d?1:this.unsigned?b.high>>>0>this.high>>>0||b.high===this.high&&b.low>>>0>this.low>>>0?-1:1:this.subtract(b).isNegative()?-1:1},a.prototype.negate=function(){return!this.unsigned&&this.equals(a.MIN_VALUE)?a.MIN_VALUE:this.not().add(a.ONE)},a.prototype.neg=a.prototype.negate,a.prototype.add=function(b){a.isLong(b)||(b=a.fromValue(b));var c=this.high>>>16,d=65535&this.high,e=this.low>>>16,f=65535&this.low,g=b.high>>>16,h=65535&b.high,i=b.low>>>16,j=65535&b.low,k=0,l=0,m=0,n=0;return n+=f+j,m+=n>>>16,n&=65535,m+=e+i,l+=m>>>16,m&=65535,l+=d+h,k+=l>>>16,l&=65535,k+=c+g,k&=65535,a.fromBits(m<<16|n,k<<16|l,this.unsigned)},a.prototype.subtract=function(b){return a.isLong(b)||(b=a.fromValue(b)),this.add(b.negate())},a.prototype.sub=a.prototype.subtract,a.prototype.multiply=function(b){if(this.isZero())return a.ZERO;if(a.isLong(b)||(b=a.fromValue(b)),b.isZero())return a.ZERO;if(this.equals(a.MIN_VALUE))return b.isOdd()?a.MIN_VALUE:a.ZERO;if(b.equals(a.MIN_VALUE))return this.isOdd()?a.MIN_VALUE:a.ZERO;if(this.isNegative())return b.isNegative()?this.negate().multiply(b.negate()):this.negate().multiply(b).negate();if(b.isNegative())return this.multiply(b.negate()).negate();if(this.lessThan(i)&&b.lessThan(i))return a.fromNumber(this.toNumber()*b.toNumber(),this.unsigned);var c=this.high>>>16,d=65535&this.high,e=this.low>>>16,f=65535&this.low,g=b.high>>>16,h=65535&b.high,j=b.low>>>16,k=65535&b.low,l=0,m=0,n=0,o=0;return o+=f*k,n+=o>>>16,o&=65535,n+=e*k,m+=n>>>16,n&=65535,n+=f*j,m+=n>>>16,n&=65535,m+=d*k,l+=m>>>16,m&=65535,m+=e*j,l+=m>>>16,m&=65535,m+=f*h,l+=m>>>16,m&=65535,l+=c*k+d*j+e*h+f*g,l&=65535,a.fromBits(n<<16|o,l<<16|m,this.unsigned)},a.prototype.mul=a.prototype.multiply,a.prototype.divide=function(b){if(a.isLong(b)||(b=a.fromValue(b)),b.isZero())throw new Error("division by zero");if(this.isZero())return this.unsigned?a.UZERO:a.ZERO;var c,d,e;if(this.equals(a.MIN_VALUE)){if(b.equals(a.ONE)||b.equals(a.NEG_ONE))return a.MIN_VALUE;if(b.equals(a.MIN_VALUE))return a.ONE;var f=this.shiftRight(1);return c=f.divide(b).shiftLeft(1),c.equals(a.ZERO)?b.isNegative()?a.ONE:a.NEG_ONE:(d=this.subtract(b.multiply(c)),e=c.add(d.divide(b)))}if(b.equals(a.MIN_VALUE))return this.unsigned?a.UZERO:a.ZERO;if(this.isNegative())return b.isNegative()?this.negate().divide(b.negate()):this.negate().divide(b).negate();if(b.isNegative())return this.divide(b.negate()).negate();for(e=a.ZERO,d=this;d.greaterThanOrEqual(b);){c=Math.max(1,Math.floor(d.toNumber()/b.toNumber()));for(var g=Math.ceil(Math.log(c)/Math.LN2),h=48>=g?1:Math.pow(2,g-48),i=a.fromNumber(c),j=i.multiply(b);j.isNegative()||j.greaterThan(d);)c-=h,i=a.fromNumber(c,this.unsigned),j=i.multiply(b);i.isZero()&&(i=a.ONE),e=e.add(i),d=d.subtract(j)}return e},a.prototype.div=a.prototype.divide,a.prototype.modulo=function(b){return a.isLong(b)||(b=a.fromValue(b)),this.subtract(this.divide(b).multiply(b))},a.prototype.mod=a.prototype.modulo,a.prototype.not=function(){return a.fromBits(~this.low,~this.high,this.unsigned)},a.prototype.and=function(b){return a.isLong(b)||(b=a.fromValue(b)),a.fromBits(this.low&b.low,this.high&b.high,this.unsigned)},a.prototype.or=function(b){return a.isLong(b)||(b=a.fromValue(b)),a.fromBits(this.low|b.low,this.high|b.high,this.unsigned)},a.prototype.xor=function(b){return a.isLong(b)||(b=a.fromValue(b)),a.fromBits(this.low^b.low,this.high^b.high,this.unsigned)},a.prototype.shiftLeft=function(b){return a.isLong(b)&&(b=b.toInt()),0===(b&=63)?this:32>b?a.fromBits(this.low<<b,this.high<<b|this.low>>>32-b,this.unsigned):a.fromBits(0,this.low<<b-32,this.unsigned)},a.prototype.shl=a.prototype.shiftLeft,a.prototype.shiftRight=function(b){return a.isLong(b)&&(b=b.toInt()),0===(b&=63)?this:32>b?a.fromBits(this.low>>>b|this.high<<32-b,this.high>>b,this.unsigned):a.fromBits(this.high>>b-32,this.high>=0?0:-1,this.unsigned)},a.prototype.shr=a.prototype.shiftRight,a.prototype.shiftRightUnsigned=function(b){if(a.isLong(b)&&(b=b.toInt()),b&=63,0===b)return this;var c=this.high;if(32>b){var d=this.low;return a.fromBits(d>>>b|c<<32-b,c>>>b,this.unsigned)}return 32===b?a.fromBits(c,0,this.unsigned):a.fromBits(c>>>b-32,0,this.unsigned)},a.prototype.shru=a.prototype.shiftRightUnsigned,a.prototype.toSigned=function(){return this.unsigned?new a(this.low,this.high,!1):this},a.prototype.toUnsigned=function(){return this.unsigned?this:new a(this.low,this.high,!0)},a})},{}],10:[function(a,b,c){!function(a,b){"use strict";"object"==typeof c?(a.slip=c,b(c)):"function"==typeof define&&define.amd?define(["exports"],function(c){return a.slip=c,a.slip,b(c)}):(a.slip={},b(a.slip))}(this,function(a){"use strict";var b=a;b.END=192,b.ESC=219,b.ESC_END=220,b.ESC_ESC=221,b.byteArray=function(a,b,c){return a instanceof ArrayBuffer?new Uint8Array(a,b,c):a},b.expandByteArray=function(a){var b=new Uint8Array(2*a.length);return b.set(a),b},b.sliceByteArray=function(a,b,c){var d=a.buffer.slice?a.buffer.slice(b,c):a.subarray(b,c);return new Uint8Array(d)},b.encode=function(a,c){c=c||{},c.bufferPadding=c.bufferPadding||4,a=b.byteArray(a,c.offset,c.byteLength);var d=a.length+c.bufferPadding+3&-4,e=new Uint8Array(d),f=1;e[0]=b.END;for(var g=0;g<a.length;g++){f>e.length-3&&(e=b.expandByteArray(e));var h=a[g];h===b.END?(e[f++]=b.ESC,h=b.ESC_END):h===b.ESC&&(e[f++]=b.ESC,h=b.ESC_ESC),e[f++]=h}return e[f]=b.END,b.sliceByteArray(e,0,f+1)},b.Decoder=function(a){a="function"!=typeof a?a||{}:{onMessage:a},this.maxMessageSize=a.maxMessageSize||10485760,this.bufferSize=a.bufferSize||1024,this.msgBuffer=new Uint8Array(this.bufferSize),this.msgBufferIdx=0,this.onMessage=a.onMessage,this.onError=a.onError,this.escape=!1};var c=b.Decoder.prototype;return c.decode=function(a){a=b.byteArray(a);for(var c,d=0;d<a.length;d++){var e=a[d];if(this.escape)e===b.ESC_ESC?e=b.ESC:e===b.ESC_END&&(e=b.END);else{if(e===b.ESC){this.escape=!0;continue}if(e===b.END){c=this.handleEnd();continue}}var f=this.addByte(e);f||this.handleMessageMaxError()}return c},c.handleMessageMaxError=function(){this.onError&&this.onError(this.msgBuffer.subarray(0),"The message is too large; the maximum message size is "+this.maxMessageSize/1024+"KB. Use a larger maxMessageSize if necessary."),this.msgBufferIdx=0,this.escape=!1},c.addByte=function(a){return this.msgBufferIdx>this.msgBuffer.length-1&&(this.msgBuffer=b.expandByteArray(this.msgBuffer)),this.msgBuffer[this.msgBufferIdx++]=a,this.escape=!1,this.msgBuffer.length<this.maxMessageSize},c.handleEnd=function(){if(0!==this.msgBufferIdx){var a=b.sliceByteArray(this.msgBuffer,0,this.msgBufferIdx);return this.onMessage&&this.onMessage(a),this.msgBufferIdx=0,a}},b})},{}],11:[function(a,b,c){b.exports=a("./lib/")},{"./lib/":12}],12:[function(a,b,c){function d(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d=e(a),f=d.source,j=d.id;return b.forceNew||b["force new connection"]||!1===b.multiplex?(h("ignoring socket cache for %s",f),c=g(f,b)):(i[j]||(h("new io instance for %s",f),i[j]=g(f,b)),c=i[j]),c.socket(d.path)}var e=a("./url"),f=a("socket.io-parser"),g=a("./manager"),h=a("debug")("socket.io-client");b.exports=c=d;var i=c.managers={};c.protocol=f.protocol,c.connect=d,c.Manager=a("./manager"),c.Socket=a("./socket")},{"./manager":13,"./socket":15,"./url":16,debug:20,"socket.io-parser":54}],13:[function(a,b,c){function d(a,b){return this instanceof d?(a&&"object"==typeof a&&(b=a,a=void 0),b=b||{},b.path=b.path||"/socket.io",this.nsps={},this.subs=[],this.opts=b,this.reconnection(b.reconnection!==!1),this.reconnectionAttempts(b.reconnectionAttempts||1/0),this.reconnectionDelay(b.reconnectionDelay||1e3),this.reconnectionDelayMax(b.reconnectionDelayMax||5e3),this.randomizationFactor(b.randomizationFactor||.5),this.backoff=new m({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==b.timeout?2e4:b.timeout),this.readyState="closed",this.uri=a,this.connected=[],this.encoding=!1,this.packetBuffer=[],this.encoder=new h.Encoder,this.decoder=new h.Decoder,this.autoConnect=b.autoConnect!==!1,void(this.autoConnect&&this.open())):new d(a,b)}var e=(a("./url"),a("engine.io-client")),f=a("./socket"),g=a("component-emitter"),h=a("socket.io-parser"),i=a("./on"),j=a("component-bind"),k=(a("object-component"),a("debug")("socket.io-client:manager")),l=a("indexof"),m=a("backo2");b.exports=d,d.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var a in this.nsps)this.nsps[a].emit.apply(this.nsps[a],arguments)},d.prototype.updateSocketIds=function(){for(var a in this.nsps)this.nsps[a].id=this.engine.id},g(d.prototype),d.prototype.reconnection=function(a){return arguments.length?(this._reconnection=!!a,this):this._reconnection},d.prototype.reconnectionAttempts=function(a){return arguments.length?(this._reconnectionAttempts=a,this):this._reconnectionAttempts},d.prototype.reconnectionDelay=function(a){return arguments.length?(this._reconnectionDelay=a,this.backoff&&this.backoff.setMin(a),this):this._reconnectionDelay},d.prototype.randomizationFactor=function(a){return arguments.length?(this._randomizationFactor=a,this.backoff&&this.backoff.setJitter(a),this):this._randomizationFactor},d.prototype.reconnectionDelayMax=function(a){return arguments.length?(this._reconnectionDelayMax=a,this.backoff&&this.backoff.setMax(a),this):this._reconnectionDelayMax},d.prototype.timeout=function(a){return arguments.length?(this._timeout=a,this):this._timeout},d.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},d.prototype.open=d.prototype.connect=function(a){if(k("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;k("opening %s",this.uri),this.engine=e(this.uri,this.opts);var b=this.engine,c=this;this.readyState="opening",this.skipReconnect=!1;var d=i(b,"open",function(){c.onopen(),a&&a()}),f=i(b,"error",function(b){if(k("connect_error"),c.cleanup(),c.readyState="closed",c.emitAll("connect_error",b),a){var d=new Error("Connection error");d.data=b,a(d)}else c.maybeReconnectOnOpen()});if(!1!==this._timeout){var g=this._timeout;k("connect attempt will timeout after %d",g);var h=setTimeout(function(){k("connect attempt timed out after %d",g),d.destroy(),b.close(),b.emit("error","timeout"),c.emitAll("connect_timeout",g)},g);this.subs.push({destroy:function(){clearTimeout(h)}})}return this.subs.push(d),this.subs.push(f),this},d.prototype.onopen=function(){k("open"),this.cleanup(),this.readyState="open",this.emit("open");var a=this.engine;this.subs.push(i(a,"data",j(this,"ondata"))),this.subs.push(i(this.decoder,"decoded",j(this,"ondecoded"))),this.subs.push(i(a,"error",j(this,"onerror"))),this.subs.push(i(a,"close",j(this,"onclose")))},d.prototype.ondata=function(a){this.decoder.add(a)},d.prototype.ondecoded=function(a){this.emit("packet",a)},d.prototype.onerror=function(a){k("error",a),this.emitAll("error",a)},d.prototype.socket=function(a){var b=this.nsps[a];if(!b){b=new f(this,a),this.nsps[a]=b;var c=this;b.on("connect",function(){b.id=c.engine.id,~l(c.connected,b)||c.connected.push(b)})}return b},d.prototype.destroy=function(a){var b=l(this.connected,a);~b&&this.connected.splice(b,1),this.connected.length||this.close()},d.prototype.packet=function(a){k("writing packet %j",a);var b=this;b.encoding?b.packetBuffer.push(a):(b.encoding=!0,this.encoder.encode(a,function(a){for(var c=0;c<a.length;c++)b.engine.write(a[c]);b.encoding=!1,b.processPacketQueue()}))},d.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var a=this.packetBuffer.shift();this.packet(a)}},d.prototype.cleanup=function(){for(var a;a=this.subs.shift();)a.destroy();this.packetBuffer=[],this.encoding=!1,this.decoder.destroy()},d.prototype.close=d.prototype.disconnect=function(){this.skipReconnect=!0,this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},d.prototype.onclose=function(a){k("close"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",a),this._reconnection&&!this.skipReconnect&&this.reconnect()},d.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var a=this;if(this.backoff.attempts>=this._reconnectionAttempts)k("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var b=this.backoff.duration();k("will wait %dms before reconnect attempt",b),this.reconnecting=!0;var c=setTimeout(function(){a.skipReconnect||(k("attempting reconnect"),a.emitAll("reconnect_attempt",a.backoff.attempts),a.emitAll("reconnecting",a.backoff.attempts),a.skipReconnect||a.open(function(b){b?(k("reconnect attempt error"),a.reconnecting=!1,a.reconnect(),a.emitAll("reconnect_error",b.data)):(k("reconnect success"),a.onreconnect())}))},b);this.subs.push({destroy:function(){clearTimeout(c)}})}},d.prototype.onreconnect=function(){var a=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",a)}},{"./on":14,"./socket":15,"./url":16,backo2:17,"component-bind":18,"component-emitter":19,debug:20,"engine.io-client":21,indexof:50,"object-component":51,"socket.io-parser":54}],14:[function(a,b,c){function d(a,b,c){return a.on(b,c),{destroy:function(){a.removeListener(b,c)}}}b.exports=d},{}],15:[function(a,b,c){function d(a,b){this.io=a,this.nsp=b,this.json=this,this.ids=0,this.acks={},this.io.autoConnect&&this.open(),this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0}var e=a("socket.io-parser"),f=a("component-emitter"),g=a("to-array"),h=a("./on"),i=a("component-bind"),j=a("debug")("socket.io-client:socket"),k=a("has-binary");b.exports=c=d;var l={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},m=f.prototype.emit;f(d.prototype),d.prototype.subEvents=function(){if(!this.subs){var a=this.io;this.subs=[h(a,"open",i(this,"onopen")),h(a,"packet",i(this,"onpacket")),h(a,"close",i(this,"onclose"))]}},d.prototype.open=d.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this)},d.prototype.send=function(){var a=g(arguments);return a.unshift("message"),this.emit.apply(this,a),this},d.prototype.emit=function(a){if(l.hasOwnProperty(a))return m.apply(this,arguments),this;var b=g(arguments),c=e.EVENT;k(b)&&(c=e.BINARY_EVENT);var d={type:c,data:b};return"function"==typeof b[b.length-1]&&(j("emitting packet with ack id %d",this.ids),this.acks[this.ids]=b.pop(),d.id=this.ids++),this.connected?this.packet(d):this.sendBuffer.push(d),this},d.prototype.packet=function(a){a.nsp=this.nsp,this.io.packet(a)},d.prototype.onopen=function(){j("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:e.CONNECT})},d.prototype.onclose=function(a){j("close (%s)",a),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",a)},d.prototype.onpacket=function(a){if(a.nsp==this.nsp)switch(a.type){case e.CONNECT:this.onconnect();break;case e.EVENT:this.onevent(a);break;case e.BINARY_EVENT:this.onevent(a);break;case e.ACK:this.onack(a);break;case e.BINARY_ACK:this.onack(a);break;case e.DISCONNECT:this.ondisconnect();break;case e.ERROR:this.emit("error",a.data)}},d.prototype.onevent=function(a){var b=a.data||[];j("emitting event %j",b),null!=a.id&&(j("attaching ack callback to event"),b.push(this.ack(a.id))),this.connected?m.apply(this,b):this.receiveBuffer.push(b)},d.prototype.ack=function(a){var b=this,c=!1;return function(){if(!c){c=!0;var d=g(arguments);j("sending ack %j",d);var f=k(d)?e.BINARY_ACK:e.ACK;b.packet({type:f,id:a,data:d})}}},d.prototype.onack=function(a){j("calling ack %s with %j",a.id,a.data);var b=this.acks[a.id];b.apply(this,a.data),delete this.acks[a.id]},d.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},d.prototype.emitBuffered=function(){
var a;for(a=0;a<this.receiveBuffer.length;a++)m.apply(this,this.receiveBuffer[a]);for(this.receiveBuffer=[],a=0;a<this.sendBuffer.length;a++)this.packet(this.sendBuffer[a]);this.sendBuffer=[]},d.prototype.ondisconnect=function(){j("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},d.prototype.destroy=function(){if(this.subs){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.subs=null}this.io.destroy(this)},d.prototype.close=d.prototype.disconnect=function(){return this.connected&&(j("performing disconnect (%s)",this.nsp),this.packet({type:e.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{"./on":14,"component-bind":18,"component-emitter":19,debug:20,"has-binary":48,"socket.io-parser":54,"to-array":58}],16:[function(a,b,c){(function(c){function d(a,b){var d=a,b=b||c.location;return null==a&&(a=b.protocol+"//"+b.host),"string"==typeof a&&("/"==a.charAt(0)&&(a="/"==a.charAt(1)?b.protocol+a:b.hostname+a),/^(https?|wss?):\/\//.test(a)||(f("protocol-less url %s",a),a="undefined"!=typeof b?b.protocol+"//"+a:"https://"+a),f("parse %s",a),d=e(a)),d.port||(/^(http|ws)$/.test(d.protocol)?d.port="80":/^(http|ws)s$/.test(d.protocol)&&(d.port="443")),d.path=d.path||"/",d.id=d.protocol+"://"+d.host+":"+d.port,d.href=d.protocol+"://"+d.host+(b&&b.port==d.port?"":":"+d.port),d}var e=a("parseuri"),f=a("debug")("socket.io-client:url");b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:20,parseuri:52}],17:[function(a,b,c){function d(a){a=a||{},this.ms=a.min||100,this.max=a.max||1e4,this.factor=a.factor||2,this.jitter=a.jitter>0&&a.jitter<=1?a.jitter:0,this.attempts=0}b.exports=d,d.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var b=Math.random(),c=Math.floor(b*this.jitter*a);a=0==(1&Math.floor(10*b))?a-c:a+c}return 0|Math.min(a,this.max)},d.prototype.reset=function(){this.attempts=0},d.prototype.setMin=function(a){this.ms=a},d.prototype.setMax=function(a){this.max=a},d.prototype.setJitter=function(a){this.jitter=a}},{}],18:[function(a,b,c){var d=[].slice;b.exports=function(a,b){if("string"==typeof b&&(b=a[b]),"function"!=typeof b)throw new Error("bind() requires a function");var c=d.call(arguments,2);return function(){return b.apply(a,c.concat(d.call(arguments)))}}},{}],19:[function(a,b,c){function d(a){return a?e(a):void 0}function e(a){for(var b in d.prototype)a[b]=d.prototype[b];return a}b.exports=d,d.prototype.on=d.prototype.addEventListener=function(a,b){return this._callbacks=this._callbacks||{},(this._callbacks[a]=this._callbacks[a]||[]).push(b),this},d.prototype.once=function(a,b){function c(){d.off(a,c),b.apply(this,arguments)}var d=this;return this._callbacks=this._callbacks||{},c.fn=b,this.on(a,c),this},d.prototype.off=d.prototype.removeListener=d.prototype.removeAllListeners=d.prototype.removeEventListener=function(a,b){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var c=this._callbacks[a];if(!c)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var d,e=0;e<c.length;e++)if(d=c[e],d===b||d.fn===b){c.splice(e,1);break}return this},d.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks[a];if(c){c=c.slice(0);for(var d=0,e=c.length;e>d;++d)c[d].apply(this,b)}return this},d.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks[a]||[]},d.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{}],20:[function(a,b,c){function d(a){return d.enabled(a)?function(b){b=e(b);var c=new Date,f=c-(d[a]||c);d[a]=c,b=a+" "+b+" +"+d.humanize(f),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function e(a){return a instanceof Error?a.stack||a.message:a}b.exports=d,d.names=[],d.skips=[],d.enable=function(a){try{localStorage.debug=a}catch(b){}for(var c=(a||"").split(/[\s,]+/),e=c.length,f=0;e>f;f++)a=c[f].replace("*",".*?"),"-"===a[0]?d.skips.push(new RegExp("^"+a.substr(1)+"$")):d.names.push(new RegExp("^"+a+"$"))},d.disable=function(){d.enable("")},d.humanize=function(a){var b=1e3,c=6e4,d=60*c;return a>=d?(a/d).toFixed(1)+"h":a>=c?(a/c).toFixed(1)+"m":a>=b?(a/b|0)+"s":a+"ms"},d.enabled=function(a){for(var b=0,c=d.skips.length;c>b;b++)if(d.skips[b].test(a))return!1;for(var b=0,c=d.names.length;c>b;b++)if(d.names[b].test(a))return!0;return!1};try{window.localStorage&&d.enable(localStorage.debug)}catch(f){}},{}],21:[function(a,b,c){b.exports=a("./lib/")},{"./lib/":22}],22:[function(a,b,c){b.exports=a("./socket"),b.exports.parser=a("engine.io-parser")},{"./socket":23,"engine.io-parser":35}],23:[function(a,b,c){(function(c){function d(a,b){if(!(this instanceof d))return new d(a,b);if(b=b||{},a&&"object"==typeof a&&(b=a,a=null),a&&(a=k(a),b.host=a.host,b.secure="https"==a.protocol||"wss"==a.protocol,b.port=a.port,a.query&&(b.query=a.query)),this.secure=null!=b.secure?b.secure:c.location&&"https:"==location.protocol,b.host){var e=b.host.split(":");b.hostname=e.shift(),e.length?b.port=e.pop():b.port||(b.port=this.secure?"443":"80")}this.agent=b.agent||!1,this.hostname=b.hostname||(c.location?location.hostname:"localhost"),this.port=b.port||(c.location&&location.port?location.port:this.secure?443:80),this.query=b.query||{},"string"==typeof this.query&&(this.query=m.decode(this.query)),this.upgrade=!1!==b.upgrade,this.path=(b.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!b.forceJSONP,this.jsonp=!1!==b.jsonp,this.forceBase64=!!b.forceBase64,this.enablesXDR=!!b.enablesXDR,this.timestampParam=b.timestampParam||"t",this.timestampRequests=b.timestampRequests,this.transports=b.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.callbackBuffer=[],this.policyPort=b.policyPort||843,this.rememberUpgrade=b.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=b.onlyBinaryUpgrades,this.pfx=b.pfx||null,this.key=b.key||null,this.passphrase=b.passphrase||null,this.cert=b.cert||null,this.ca=b.ca||null,this.ciphers=b.ciphers||null,this.rejectUnauthorized=b.rejectUnauthorized||null,this.open()}function e(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}var f=a("./transports"),g=a("component-emitter"),h=a("debug")("engine.io-client:socket"),i=a("indexof"),j=a("engine.io-parser"),k=a("parseuri"),l=a("parsejson"),m=a("parseqs");b.exports=d,d.priorWebsocketSuccess=!1,g(d.prototype),d.protocol=j.protocol,d.Socket=d,d.Transport=a("./transport"),d.transports=a("./transports"),d.parser=a("engine.io-parser"),d.prototype.createTransport=function(a){h('creating transport "%s"',a);var b=e(this.query);b.EIO=j.protocol,b.transport=a,this.id&&(b.sid=this.id);var c=new f[a]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:b,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized});return c},d.prototype.open=function(){var a;if(this.rememberUpgrade&&d.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))a="websocket";else{if(0==this.transports.length){var b=this;return void setTimeout(function(){b.emit("error","No transports available")},0)}a=this.transports[0]}this.readyState="opening";var a;try{a=this.createTransport(a)}catch(c){return this.transports.shift(),void this.open()}a.open(),this.setTransport(a)},d.prototype.setTransport=function(a){h("setting transport %s",a.name);var b=this;this.transport&&(h("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=a,a.on("drain",function(){b.onDrain()}).on("packet",function(a){b.onPacket(a)}).on("error",function(a){b.onError(a)}).on("close",function(){b.onClose("transport close")})},d.prototype.probe=function(a){function b(){if(m.onlyBinaryUpgrades){var b=!this.supportsBinary&&m.transport.supportsBinary;l=l||b}l||(h('probe transport "%s" opened',a),k.send([{type:"ping",data:"probe"}]),k.once("packet",function(b){if(!l)if("pong"==b.type&&"probe"==b.data){if(h('probe transport "%s" pong',a),m.upgrading=!0,m.emit("upgrading",k),!k)return;d.priorWebsocketSuccess="websocket"==k.name,h('pausing current transport "%s"',m.transport.name),m.transport.pause(function(){l||"closed"!=m.readyState&&(h("changing transport and sending upgrade packet"),j(),m.setTransport(k),k.send([{type:"upgrade"}]),m.emit("upgrade",k),k=null,m.upgrading=!1,m.flush())})}else{h('probe transport "%s" failed',a);var c=new Error("probe error");c.transport=k.name,m.emit("upgradeError",c)}}))}function c(){l||(l=!0,j(),k.close(),k=null)}function e(b){var d=new Error("probe error: "+b);d.transport=k.name,c(),h('probe transport "%s" failed because of error: %s',a,b),m.emit("upgradeError",d)}function f(){e("transport closed")}function g(){e("socket closed")}function i(a){k&&a.name!=k.name&&(h('"%s" works - aborting "%s"',a.name,k.name),c())}function j(){k.removeListener("open",b),k.removeListener("error",e),k.removeListener("close",f),m.removeListener("close",g),m.removeListener("upgrading",i)}h('probing transport "%s"',a);var k=this.createTransport(a,{probe:1}),l=!1,m=this;d.priorWebsocketSuccess=!1,k.once("open",b),k.once("error",e),k.once("close",f),this.once("close",g),this.once("upgrading",i),k.open()},d.prototype.onOpen=function(){if(h("socket open"),this.readyState="open",d.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){h("starting upgrade probes");for(var a=0,b=this.upgrades.length;b>a;a++)this.probe(this.upgrades[a])}},d.prototype.onPacket=function(a){if("opening"==this.readyState||"open"==this.readyState)switch(h('socket receive: type "%s", data "%s"',a.type,a.data),this.emit("packet",a),this.emit("heartbeat"),a.type){case"open":this.onHandshake(l(a.data));break;case"pong":this.setPing();break;case"error":var b=new Error("server error");b.code=a.data,this.emit("error",b);break;case"message":this.emit("data",a.data),this.emit("message",a.data)}else h('packet received with socket readyState "%s"',this.readyState)},d.prototype.onHandshake=function(a){this.emit("handshake",a),this.id=a.sid,this.transport.query.sid=a.sid,this.upgrades=this.filterUpgrades(a.upgrades),this.pingInterval=a.pingInterval,this.pingTimeout=a.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},d.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);var b=this;b.pingTimeoutTimer=setTimeout(function(){"closed"!=b.readyState&&b.onClose("ping timeout")},a||b.pingInterval+b.pingTimeout)},d.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer),a.pingIntervalTimer=setTimeout(function(){h("writing ping packet - expecting pong within %sms",a.pingTimeout),a.ping(),a.onHeartbeat(a.pingTimeout)},a.pingInterval)},d.prototype.ping=function(){this.sendPacket("ping")},d.prototype.onDrain=function(){for(var a=0;a<this.prevBufferLen;a++)this.callbackBuffer[a]&&this.callbackBuffer[a]();this.writeBuffer.splice(0,this.prevBufferLen),this.callbackBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0==this.writeBuffer.length?this.emit("drain"):this.flush()},d.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(h("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},d.prototype.write=d.prototype.send=function(a,b){return this.sendPacket("message",a,b),this},d.prototype.sendPacket=function(a,b,c){if("closing"!=this.readyState&&"closed"!=this.readyState){var d={type:a,data:b};this.emit("packetCreate",d),this.writeBuffer.push(d),this.callbackBuffer.push(c),this.flush()}},d.prototype.close=function(){function a(){d.onClose("forced close"),h("socket closing - telling transport to close"),d.transport.close()}function b(){d.removeListener("upgrade",b),d.removeListener("upgradeError",b),a()}function c(){d.once("upgrade",b),d.once("upgradeError",b)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var d=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?c():a()}):this.upgrading?c():a()}return this},d.prototype.onError=function(a){h("socket error %j",a),d.priorWebsocketSuccess=!1,this.emit("error",a),this.onClose("transport error",a)},d.prototype.onClose=function(a,b){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){h('socket close with reason: "%s"',a);var c=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),setTimeout(function(){c.writeBuffer=[],c.callbackBuffer=[],c.prevBufferLen=0},0),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",a,b)}},d.prototype.filterUpgrades=function(a){for(var b=[],c=0,d=a.length;d>c;c++)~i(this.transports,a[c])&&b.push(a[c]);return b}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":24,"./transports":25,"component-emitter":19,debug:32,"engine.io-parser":35,indexof:50,parsejson:44,parseqs:45,parseuri:46}],24:[function(a,b,c){function d(a){this.path=a.path,this.hostname=a.hostname,this.port=a.port,this.secure=a.secure,this.query=a.query,this.timestampParam=a.timestampParam,this.timestampRequests=a.timestampRequests,this.readyState="",this.agent=a.agent||!1,this.socket=a.socket,this.enablesXDR=a.enablesXDR,this.pfx=a.pfx,this.key=a.key,this.passphrase=a.passphrase,this.cert=a.cert,this.ca=a.ca,this.ciphers=a.ciphers,this.rejectUnauthorized=a.rejectUnauthorized}var e=a("engine.io-parser"),f=a("component-emitter");b.exports=d,f(d.prototype),d.timestamps=0,d.prototype.onError=function(a,b){var c=new Error(a);return c.type="TransportError",c.description=b,this.emit("error",c),this},d.prototype.open=function(){return("closed"==this.readyState||""==this.readyState)&&(this.readyState="opening",this.doOpen()),this},d.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.doClose(),this.onClose()),this},d.prototype.send=function(a){if("open"!=this.readyState)throw new Error("Transport not open");this.write(a)},d.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},d.prototype.onData=function(a){var b=e.decodePacket(a,this.socket.binaryType);this.onPacket(b)},d.prototype.onPacket=function(a){this.emit("packet",a)},d.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":19,"engine.io-parser":35}],25:[function(a,b,c){(function(b){function d(a){var c,d=!1,h=!1,i=!1!==a.jsonp;if(b.location){var j="https:"==location.protocol,k=location.port;k||(k=j?443:80),d=a.hostname!=location.hostname||k!=a.port,h=a.secure!=j}if(a.xdomain=d,a.xscheme=h,c=new e(a),"open"in c&&!a.forceJSONP)return new f(a);if(!i)throw new Error("JSONP disabled");return new g(a)}var e=a("xmlhttprequest"),f=a("./polling-xhr"),g=a("./polling-jsonp"),h=a("./websocket");c.polling=d,c.websocket=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":26,"./polling-xhr":27,"./websocket":29,xmlhttprequest:30}],26:[function(a,b,c){(function(c){function d(){}function e(a){f.call(this,a),this.query=this.query||{},h||(c.___eio||(c.___eio=[]),h=c.___eio),this.index=h.length;var b=this;h.push(function(a){b.onData(a)}),this.query.j=this.index,c.document&&c.addEventListener&&c.addEventListener("beforeunload",function(){b.script&&(b.script.onerror=d)},!1)}var f=a("./polling"),g=a("component-inherit");b.exports=e;var h,i=/\n/g,j=/\\n/g;g(e,f),e.prototype.supportsBinary=!1,e.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),f.prototype.doClose.call(this)},e.prototype.doPoll=function(){var a=this,b=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),b.async=!0,b.src=this.uri(),b.onerror=function(b){a.onError("jsonp poll error",b)};var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c),this.script=b;var d="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);d&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a),document.body.removeChild(a)},100)},e.prototype.doWrite=function(a,b){function c(){d(),b()}function d(){if(e.iframe)try{e.form.removeChild(e.iframe)}catch(a){e.onError("jsonp polling iframe removal error",a)}try{var b='<iframe src="javascript:0" name="'+e.iframeId+'">';f=document.createElement(b)}catch(a){f=document.createElement("iframe"),f.name=e.iframeId,f.src="javascript:0"}f.id=e.iframeId,e.form.appendChild(f),e.iframe=f}var e=this;if(!this.form){var f,g=document.createElement("form"),h=document.createElement("textarea"),k=this.iframeId="eio_iframe_"+this.index;g.className="socketio",g.style.position="absolute",g.style.top="-1000px",g.style.left="-1000px",g.target=k,g.method="POST",g.setAttribute("accept-charset","utf-8"),h.name="d",g.appendChild(h),document.body.appendChild(g),this.form=g,this.area=h}this.form.action=this.uri(),d(),a=a.replace(j,"\\\n"),this.area.value=a.replace(i,"\\n");try{this.form.submit()}catch(l){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==e.iframe.readyState&&c()}:this.iframe.onload=c}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":28,"component-inherit":31}],27:[function(a,b,c){(function(c){function d(){}function e(a){if(i.call(this,a),c.location){var b="https:"==location.protocol,d=location.port;d||(d=b?443:80),this.xd=a.hostname!=c.location.hostname||d!=a.port,this.xs=a.secure!=b}}function f(a){this.method=a.method||"GET",this.uri=a.uri,this.xd=!!a.xd,this.xs=!!a.xs,this.async=!1!==a.async,this.data=void 0!=a.data?a.data:null,this.agent=a.agent,this.isBinary=a.isBinary,this.supportsBinary=a.supportsBinary,this.enablesXDR=a.enablesXDR,this.pfx=a.pfx,this.key=a.key,this.passphrase=a.passphrase,this.cert=a.cert,this.ca=a.ca,this.ciphers=a.ciphers,this.rejectUnauthorized=a.rejectUnauthorized,this.create()}function g(){for(var a in f.requests)f.requests.hasOwnProperty(a)&&f.requests[a].abort()}var h=a("xmlhttprequest"),i=a("./polling"),j=a("component-emitter"),k=a("component-inherit"),l=a("debug")("engine.io-client:polling-xhr");b.exports=e,b.exports.Request=f,k(e,i),e.prototype.supportsBinary=!0,e.prototype.request=function(a){return a=a||{},a.uri=this.uri(),a.xd=this.xd,a.xs=this.xs,a.agent=this.agent||!1,a.supportsBinary=this.supportsBinary,a.enablesXDR=this.enablesXDR,a.pfx=this.pfx,a.key=this.key,a.passphrase=this.passphrase,a.cert=this.cert,a.ca=this.ca,a.ciphers=this.ciphers,a.rejectUnauthorized=this.rejectUnauthorized,new f(a)},e.prototype.doWrite=function(a,b){var c="string"!=typeof a&&void 0!==a,d=this.request({method:"POST",data:a,isBinary:c}),e=this;d.on("success",b),d.on("error",function(a){e.onError("xhr post error",a)}),this.sendXhr=d},e.prototype.doPoll=function(){l("xhr poll");var a=this.request(),b=this;a.on("data",function(a){b.onData(a)}),a.on("error",function(a){b.onError("xhr poll error",a)}),this.pollXhr=a},j(f.prototype),f.prototype.create=function(){var a={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};a.pfx=this.pfx,a.key=this.key,a.passphrase=this.passphrase,a.cert=this.cert,a.ca=this.ca,a.ciphers=this.ciphers,a.rejectUnauthorized=this.rejectUnauthorized;var b=this.xhr=new h(a),d=this;try{if(l("xhr open %s: %s",this.method,this.uri),b.open(this.method,this.uri,this.async),this.supportsBinary&&(b.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?b.setRequestHeader("Content-type","application/octet-stream"):b.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}"withCredentials"in b&&(b.withCredentials=!0),this.hasXDR()?(b.onload=function(){d.onLoad()},b.onerror=function(){d.onError(b.responseText)}):b.onreadystatechange=function(){4==b.readyState&&(200==b.status||1223==b.status?d.onLoad():setTimeout(function(){d.onError(b.status)},0))},l("xhr data %s",this.data),b.send(this.data)}catch(e){return void setTimeout(function(){d.onError(e)},0)}c.document&&(this.index=f.requestsCount++,f.requests[this.index]=this)},f.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},f.prototype.onData=function(a){this.emit("data",a),this.onSuccess()},f.prototype.onError=function(a){this.emit("error",a),this.cleanup(!0)},f.prototype.cleanup=function(a){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=d:this.xhr.onreadystatechange=d,a)try{this.xhr.abort()}catch(b){}c.document&&delete f.requests[this.index],this.xhr=null}},f.prototype.onLoad=function(){var a;try{var b;try{b=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(c){}a="application/octet-stream"===b?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(c){this.onError(c)}null!=a&&this.onData(a)},f.prototype.hasXDR=function(){return"undefined"!=typeof c.XDomainRequest&&!this.xs&&this.enablesXDR},f.prototype.abort=function(){this.cleanup()},c.document&&(f.requestsCount=0,f.requests={},c.attachEvent?c.attachEvent("onunload",g):c.addEventListener&&c.addEventListener("beforeunload",g,!1))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":28,"component-emitter":19,"component-inherit":31,debug:32,xmlhttprequest:30}],28:[function(a,b,c){function d(a){var b=a&&a.forceBase64;(!j||b)&&(this.supportsBinary=!1),e.call(this,a)}var e=a("../transport"),f=a("parseqs"),g=a("engine.io-parser"),h=a("component-inherit"),i=a("debug")("engine.io-client:polling");b.exports=d;var j=function(){var b=a("xmlhttprequest"),c=new b({xdomain:!1});return null!=c.responseType}();h(d,e),d.prototype.name="polling",d.prototype.doOpen=function(){this.poll()},d.prototype.pause=function(a){function b(){i("paused"),c.readyState="paused",a()}var c=this;if(this.readyState="pausing",this.polling||!this.writable){var d=0;this.polling&&(i("we are currently polling - waiting to pause"),d++,this.once("pollComplete",function(){i("pre-pause polling complete"),--d||b()})),this.writable||(i("we are currently writing - waiting to pause"),d++,this.once("drain",function(){i("pre-pause writing complete"),--d||b()}))}else b()},d.prototype.poll=function(){i("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},d.prototype.onData=function(a){var b=this;i("polling got data %s",a);var c=function(a,c,d){return"opening"==b.readyState&&b.onOpen(),"close"==a.type?(b.onClose(),!1):void b.onPacket(a)};g.decodePayload(a,this.socket.binaryType,c),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():i('ignoring poll - transport state "%s"',this.readyState))},d.prototype.doClose=function(){function a(){i("writing close packet"),b.write([{type:"close"}])}var b=this;"open"==this.readyState?(i("transport open - closing"),a()):(i("transport not open - deferring close"),this.once("open",a))},d.prototype.write=function(a){var b=this;this.writable=!1;var c=function(){b.writable=!0,b.emit("drain")},b=this;g.encodePayload(a,this.supportsBinary,function(a){b.doWrite(a,c)})},d.prototype.uri=function(){var a=this.query||{},b=this.secure?"https":"http",c="";return!1!==this.timestampRequests&&(a[this.timestampParam]=+new Date+"-"+e.timestamps++),this.supportsBinary||a.sid||(a.b64=1),a=f.encode(a),this.port&&("https"==b&&443!=this.port||"http"==b&&80!=this.port)&&(c=":"+this.port),a.length&&(a="?"+a),b+"://"+this.hostname+c+this.path+a}},{"../transport":24,"component-inherit":31,debug:32,"engine.io-parser":35,parseqs:45,xmlhttprequest:30}],29:[function(a,b,c){function d(a){var b=a&&a.forceBase64;b&&(this.supportsBinary=!1),e.call(this,a)}var e=a("../transport"),f=a("engine.io-parser"),g=a("parseqs"),h=a("component-inherit"),i=a("debug")("engine.io-client:websocket"),j=a("ws");b.exports=d,h(d,e),d.prototype.name="websocket",d.prototype.supportsBinary=!0,d.prototype.doOpen=function(){if(this.check()){var a=this.uri(),b=void 0,c={agent:this.agent};c.pfx=this.pfx,c.key=this.key,c.passphrase=this.passphrase,c.cert=this.cert,c.ca=this.ca,c.ciphers=this.ciphers,c.rejectUnauthorized=this.rejectUnauthorized,this.ws=new j(a,b,c),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.binaryType="arraybuffer",this.addEventListeners()}},d.prototype.addEventListeners=function(){var a=this;this.ws.onopen=function(){a.onOpen()},this.ws.onclose=function(){a.onClose()},this.ws.onmessage=function(b){a.onData(b.data)},this.ws.onerror=function(b){a.onError("websocket error",b)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(d.prototype.onData=function(a){var b=this;setTimeout(function(){e.prototype.onData.call(b,a)},0)}),d.prototype.write=function(a){function b(){c.writable=!0,c.emit("drain")}var c=this;this.writable=!1;for(var d=0,e=a.length;e>d;d++)f.encodePacket(a[d],this.supportsBinary,function(a){try{c.ws.send(a)}catch(b){i("websocket closed before onclose event")}});setTimeout(b,0)},d.prototype.onClose=function(){e.prototype.onClose.call(this)},d.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},d.prototype.uri=function(){var a=this.query||{},b=this.secure?"wss":"ws",c="";return this.port&&("wss"==b&&443!=this.port||"ws"==b&&80!=this.port)&&(c=":"+this.port),this.timestampRequests&&(a[this.timestampParam]=+new Date),this.supportsBinary||(a.b64=1),a=g.encode(a),a.length&&(a="?"+a),b+"://"+this.hostname+c+this.path+a},d.prototype.check=function(){return!(!j||"__initialize"in j&&this.name===d.prototype.name)}},{"../transport":24,"component-inherit":31,debug:32,"engine.io-parser":35,parseqs:45,ws:47}],30:[function(a,b,c){var d=a("has-cors");b.exports=function(a){var b=a.xdomain,c=a.xscheme,e=a.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!b||d))return new XMLHttpRequest}catch(f){}try{if("undefined"!=typeof XDomainRequest&&!c&&e)return new XDomainRequest}catch(f){}if(!b)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(f){}}},{"has-cors":42}],31:[function(a,b,c){b.exports=function(a,b){var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],32:[function(a,b,c){function d(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function e(){var a=arguments,b=this.useColors;if(a[0]=(b?"%c":"")+this.namespace+(b?" %c":" ")+a[0]+(b?"%c ":" ")+"+"+c.humanize(this.diff),!b)return a;var d="color: "+this.color;a=[a[0],d,"color: inherit"].concat(Array.prototype.slice.call(a,1));var e=0,f=0;return a[0].replace(/%[a-z%]/g,function(a){"%%"!==a&&(e++,"%c"===a&&(f=e))}),a.splice(f,0,d),a}function f(){return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)}function g(a){try{null==a?localStorage.removeItem("debug"):localStorage.debug=a}catch(b){}}function h(){var a;try{a=localStorage.debug}catch(b){}return a}c=b.exports=a("./debug"),c.log=f,c.formatArgs=e,c.save=g,c.load=h,c.useColors=d,c.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],c.formatters.j=function(a){return JSON.stringify(a)},c.enable(h())},{"./debug":33}],33:[function(a,b,c){function d(){return c.colors[k++%c.colors.length]}function e(a){function b(){}function e(){var a=e,b=+new Date,f=b-(j||b);a.diff=f,a.prev=j,a.curr=b,j=b,null==a.useColors&&(a.useColors=c.useColors()),null==a.color&&a.useColors&&(a.color=d());var g=Array.prototype.slice.call(arguments);g[0]=c.coerce(g[0]),"string"!=typeof g[0]&&(g=["%o"].concat(g));var h=0;g[0]=g[0].replace(/%([a-z%])/g,function(b,d){if("%%"===b)return b;h++;var e=c.formatters[d];if("function"==typeof e){var f=g[h];b=e.call(a,f),g.splice(h,1),h--}return b}),"function"==typeof c.formatArgs&&(g=c.formatArgs.apply(a,g));var i=e.log||c.log||console.log.bind(console);i.apply(a,g)}b.enabled=!1,e.enabled=!0;var f=c.enabled(a)?e:b;return f.namespace=a,f}function f(a){c.save(a);for(var b=(a||"").split(/[\s,]+/),d=b.length,e=0;d>e;e++)b[e]&&(a=b[e].replace(/\*/g,".*?"),"-"===a[0]?c.skips.push(new RegExp("^"+a.substr(1)+"$")):c.names.push(new RegExp("^"+a+"$")))}function g(){c.enable("")}function h(a){var b,d;for(b=0,d=c.skips.length;d>b;b++)if(c.skips[b].test(a))return!1;for(b=0,d=c.names.length;d>b;b++)if(c.names[b].test(a))return!0;return!1}function i(a){return a instanceof Error?a.stack||a.message:a}c=b.exports=e,c.coerce=i,c.disable=g,c.enable=f,c.enabled=h,c.humanize=a("ms"),c.names=[],c.skips=[],c.formatters={};var j,k=0},{ms:34}],34:[function(a,b,c){function d(a){var b=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(a);if(b){var c=parseFloat(b[1]),d=(b[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"y":return c*l;case"days":case"day":case"d":return c*k;case"hours":case"hour":case"h":return c*j;case"minutes":case"minute":case"m":return c*i;case"seconds":case"second":case"s":return c*h;case"ms":return c}}}function e(a){return a>=k?Math.round(a/k)+"d":a>=j?Math.round(a/j)+"h":a>=i?Math.round(a/i)+"m":a>=h?Math.round(a/h)+"s":a+"ms"}function f(a){return g(a,k,"day")||g(a,j,"hour")||g(a,i,"minute")||g(a,h,"second")||a+" ms"}function g(a,b,c){return b>a?void 0:1.5*b>a?Math.floor(a/b)+" "+c:Math.ceil(a/b)+" "+c+"s"}var h=1e3,i=60*h,j=60*i,k=24*j,l=365.25*k;b.exports=function(a,b){return b=b||{},"string"==typeof a?d(a):b["long"]?f(a):e(a)}},{}],35:[function(a,b,c){(function(b){function d(a,b){var d="b"+c.packets[a.type]+a.data.data;return b(d)}function e(a,b,d){if(!b)return c.encodeBase64Packet(a,d);var e=a.data,f=new Uint8Array(e),g=new Uint8Array(1+e.byteLength);g[0]=r[a.type];for(var h=0;h<f.length;h++)g[h+1]=f[h];return d(g.buffer)}function f(a,b,d){if(!b)return c.encodeBase64Packet(a,d);var e=new FileReader;return e.onload=function(){a.data=e.result,c.encodePacket(a,b,!0,d)},e.readAsArrayBuffer(a.data)}function g(a,b,d){if(!b)return c.encodeBase64Packet(a,d);if(q)return f(a,b,d);var e=new Uint8Array(1);e[0]=r[a.type];var g=new u([e.buffer,a.data]);return d(g)}function h(a,b,c){for(var d=new Array(a.length),e=m(a.length,c),f=function(a,c,e){b(c,function(b,c){d[a]=c,e(b,d)})},g=0;g<a.length;g++)f(g,a[g],e)}var i=a("./keys"),j=a("has-binary"),k=a("arraybuffer.slice"),l=a("base64-arraybuffer"),m=a("after"),n=a("utf8"),o=navigator.userAgent.match(/Android/i),p=/PhantomJS/i.test(navigator.userAgent),q=o||p;c.protocol=3;var r=c.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},s=i(r),t={type:"error",data:"parser error"},u=a("blob");c.encodePacket=function(a,c,f,h){"function"==typeof c&&(h=c,c=!1),"function"==typeof f&&(h=f,f=null);var i=void 0===a.data?void 0:a.data.buffer||a.data;if(b.ArrayBuffer&&i instanceof ArrayBuffer)return e(a,c,h);if(u&&i instanceof b.Blob)return g(a,c,h);if(i&&i.base64)return d(a,h);var j=r[a.type];return void 0!==a.data&&(j+=f?n.encode(String(a.data)):String(a.data)),h(""+j)},c.encodeBase64Packet=function(a,d){var e="b"+c.packets[a.type];if(u&&a.data instanceof u){var f=new FileReader;return f.onload=function(){
var a=f.result.split(",")[1];d(e+a)},f.readAsDataURL(a.data)}var g;try{g=String.fromCharCode.apply(null,new Uint8Array(a.data))}catch(h){for(var i=new Uint8Array(a.data),j=new Array(i.length),k=0;k<i.length;k++)j[k]=i[k];g=String.fromCharCode.apply(null,j)}return e+=b.btoa(g),d(e)},c.decodePacket=function(a,b,d){if("string"==typeof a||void 0===a){if("b"==a.charAt(0))return c.decodeBase64Packet(a.substr(1),b);if(d)try{a=n.decode(a)}catch(e){return t}var f=a.charAt(0);return Number(f)==f&&s[f]?a.length>1?{type:s[f],data:a.substring(1)}:{type:s[f]}:t}var g=new Uint8Array(a),f=g[0],h=k(a,1);return u&&"blob"===b&&(h=new u([h])),{type:s[f],data:h}},c.decodeBase64Packet=function(a,c){var d=s[a.charAt(0)];if(!b.ArrayBuffer)return{type:d,data:{base64:!0,data:a.substr(1)}};var e=l.decode(a.substr(1));return"blob"===c&&u&&(e=new u([e])),{type:d,data:e}},c.encodePayload=function(a,b,d){function e(a){return a.length+":"+a}function f(a,d){c.encodePacket(a,g?b:!1,!0,function(a){d(null,e(a))})}"function"==typeof b&&(d=b,b=null);var g=j(a);return b&&g?u&&!q?c.encodePayloadAsBlob(a,d):c.encodePayloadAsArrayBuffer(a,d):a.length?void h(a,f,function(a,b){return d(b.join(""))}):d("0:")},c.decodePayload=function(a,b,d){if("string"!=typeof a)return c.decodePayloadAsBinary(a,b,d);"function"==typeof b&&(d=b,b=null);var e;if(""==a)return d(t,0,1);for(var f,g,h="",i=0,j=a.length;j>i;i++){var k=a.charAt(i);if(":"!=k)h+=k;else{if(""==h||h!=(f=Number(h)))return d(t,0,1);if(g=a.substr(i+1,f),h!=g.length)return d(t,0,1);if(g.length){if(e=c.decodePacket(g,b,!0),t.type==e.type&&t.data==e.data)return d(t,0,1);var l=d(e,i+f,j);if(!1===l)return}i+=f,h=""}}return""!=h?d(t,0,1):void 0},c.encodePayloadAsArrayBuffer=function(a,b){function d(a,b){c.encodePacket(a,!0,!0,function(a){return b(null,a)})}return a.length?void h(a,d,function(a,c){var d=c.reduce(function(a,b){var c;return c="string"==typeof b?b.length:b.byteLength,a+c.toString().length+c+2},0),e=new Uint8Array(d),f=0;return c.forEach(function(a){var b="string"==typeof a,c=a;if(b){for(var d=new Uint8Array(a.length),g=0;g<a.length;g++)d[g]=a.charCodeAt(g);c=d.buffer}b?e[f++]=0:e[f++]=1;for(var h=c.byteLength.toString(),g=0;g<h.length;g++)e[f++]=parseInt(h[g]);e[f++]=255;for(var d=new Uint8Array(c),g=0;g<d.length;g++)e[f++]=d[g]}),b(e.buffer)}):b(new ArrayBuffer(0))},c.encodePayloadAsBlob=function(a,b){function d(a,b){c.encodePacket(a,!0,!0,function(a){var c=new Uint8Array(1);if(c[0]=1,"string"==typeof a){for(var d=new Uint8Array(a.length),e=0;e<a.length;e++)d[e]=a.charCodeAt(e);a=d.buffer,c[0]=0}for(var f=a instanceof ArrayBuffer?a.byteLength:a.size,g=f.toString(),h=new Uint8Array(g.length+1),e=0;e<g.length;e++)h[e]=parseInt(g[e]);if(h[g.length]=255,u){var i=new u([c.buffer,h.buffer,a]);b(null,i)}})}h(a,d,function(a,c){return b(new u(c))})},c.decodePayloadAsBinary=function(a,b,d){"function"==typeof b&&(d=b,b=null);for(var e=a,f=[],g=!1;e.byteLength>0;){for(var h=new Uint8Array(e),i=0===h[0],j="",l=1;255!=h[l];l++){if(j.length>310){g=!0;break}j+=h[l]}if(g)return d(t,0,1);e=k(e,2+j.length),j=parseInt(j);var m=k(e,0,j);if(i)try{m=String.fromCharCode.apply(null,new Uint8Array(m))}catch(n){var o=new Uint8Array(m);m="";for(var l=0;l<o.length;l++)m+=String.fromCharCode(o[l])}f.push(m),e=k(e,j)}var p=f.length;f.forEach(function(a,e){d(c.decodePacket(a,b,!0),e,p)})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":36,after:37,"arraybuffer.slice":38,"base64-arraybuffer":39,blob:40,"has-binary":48,utf8:41}],36:[function(a,b,c){b.exports=Object.keys||function(a){var b=[],c=Object.prototype.hasOwnProperty;for(var d in a)c.call(a,d)&&b.push(d);return b}},{}],37:[function(a,b,c){function d(a,b,c){function d(a,e){if(d.count<=0)throw new Error("after called too many times");--d.count,a?(f=!0,b(a),b=c):0!==d.count||f||b(null,e)}var f=!1;return c=c||e,d.count=a,0===a?b():d}function e(){}b.exports=d},{}],38:[function(a,b,c){b.exports=function(a,b,c){var d=a.byteLength;if(b=b||0,c=c||d,a.slice)return a.slice(b,c);if(0>b&&(b+=d),0>c&&(c+=d),c>d&&(c=d),b>=d||b>=c||0===d)return new ArrayBuffer(0);for(var e=new Uint8Array(a),f=new Uint8Array(c-b),g=b,h=0;c>g;g++,h++)f[h]=e[g];return f.buffer}},{}],39:[function(a,b,c){!function(a){"use strict";c.encode=function(b){var c,d=new Uint8Array(b),e=d.length,f="";for(c=0;e>c;c+=3)f+=a[d[c]>>2],f+=a[(3&d[c])<<4|d[c+1]>>4],f+=a[(15&d[c+1])<<2|d[c+2]>>6],f+=a[63&d[c+2]];return e%3===2?f=f.substring(0,f.length-1)+"=":e%3===1&&(f=f.substring(0,f.length-2)+"=="),f},c.decode=function(b){var c,d,e,f,g,h=.75*b.length,i=b.length,j=0;"="===b[b.length-1]&&(h--,"="===b[b.length-2]&&h--);var k=new ArrayBuffer(h),l=new Uint8Array(k);for(c=0;i>c;c+=4)d=a.indexOf(b[c]),e=a.indexOf(b[c+1]),f=a.indexOf(b[c+2]),g=a.indexOf(b[c+3]),l[j++]=d<<2|e>>4,l[j++]=(15&e)<<4|f>>2,l[j++]=(3&f)<<6|63&g;return k}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],40:[function(a,b,c){(function(a){function c(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.buffer instanceof ArrayBuffer){var d=c.buffer;if(c.byteLength!==d.byteLength){var e=new Uint8Array(c.byteLength);e.set(new Uint8Array(d,c.byteOffset,c.byteLength)),d=e.buffer}a[b]=d}}}function d(a,b){b=b||{};var d=new f;c(a);for(var e=0;e<a.length;e++)d.append(a[e]);return b.type?d.getBlob(b.type):d.getBlob()}function e(a,b){return c(a),new Blob(a,b||{})}var f=a.BlobBuilder||a.WebKitBlobBuilder||a.MSBlobBuilder||a.MozBlobBuilder,g=function(){try{var a=new Blob(["hi"]);return 2===a.size}catch(b){return!1}}(),h=g&&function(){try{var a=new Blob([new Uint8Array([1,2])]);return 2===a.size}catch(b){return!1}}(),i=f&&f.prototype.append&&f.prototype.getBlob;b.exports=function(){return g?h?a.Blob:e:i?d:void 0}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],41:[function(a,b,c){(function(a){!function(d){function e(a){for(var b,c,d=[],e=0,f=a.length;f>e;)b=a.charCodeAt(e++),b>=55296&&56319>=b&&f>e?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}function f(a){for(var b,c=a.length,d=-1,e="";++d<c;)b=a[d],b>65535&&(b-=65536,e+=t(b>>>10&1023|55296),b=56320|1023&b),e+=t(b);return e}function g(a){if(a>=55296&&57343>=a)throw Error("Lone surrogate U+"+a.toString(16).toUpperCase()+" is not a scalar value")}function h(a,b){return t(a>>b&63|128)}function i(a){if(0==(4294967168&a))return t(a);var b="";return 0==(4294965248&a)?b=t(a>>6&31|192):0==(4294901760&a)?(g(a),b=t(a>>12&15|224),b+=h(a,6)):0==(4292870144&a)&&(b=t(a>>18&7|240),b+=h(a,12),b+=h(a,6)),b+=t(63&a|128)}function j(a){for(var b,c=e(a),d=c.length,f=-1,g="";++f<d;)b=c[f],g+=i(b);return g}function k(){if(s>=r)throw Error("Invalid byte index");var a=255&q[s];if(s++,128==(192&a))return 63&a;throw Error("Invalid continuation byte")}function l(){var a,b,c,d,e;if(s>r)throw Error("Invalid byte index");if(s==r)return!1;if(a=255&q[s],s++,0==(128&a))return a;if(192==(224&a)){var b=k();if(e=(31&a)<<6|b,e>=128)return e;throw Error("Invalid continuation byte")}if(224==(240&a)){if(b=k(),c=k(),e=(15&a)<<12|b<<6|c,e>=2048)return g(e),e;throw Error("Invalid continuation byte")}if(240==(248&a)&&(b=k(),c=k(),d=k(),e=(15&a)<<18|b<<12|c<<6|d,e>=65536&&1114111>=e))return e;throw Error("Invalid UTF-8 detected")}function m(a){q=e(a),r=q.length,s=0;for(var b,c=[];(b=l())!==!1;)c.push(b);return f(c)}var n="object"==typeof c&&c,o="object"==typeof b&&b&&b.exports==n&&b,p="object"==typeof a&&a;(p.global===p||p.window===p)&&(d=p);var q,r,s,t=String.fromCharCode,u={version:"2.0.0",encode:j,decode:m};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return u});else if(n&&!n.nodeType)if(o)o.exports=u;else{var v={},w=v.hasOwnProperty;for(var x in u)w.call(u,x)&&(n[x]=u[x])}else d.utf8=u}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],42:[function(a,b,c){var d=a("global");try{b.exports="XMLHttpRequest"in d&&"withCredentials"in new d.XMLHttpRequest}catch(e){b.exports=!1}},{global:43}],43:[function(a,b,c){b.exports=function(){return this}()},{}],44:[function(a,b,c){(function(a){var c=/^[\],:{}\s]*$/,d=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,e=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,f=/(?:^|:|,)(?:\s*\[)+/g,g=/^\s+/,h=/\s+$/;b.exports=function(b){return"string"==typeof b&&b?(b=b.replace(g,"").replace(h,""),a.JSON&&JSON.parse?JSON.parse(b):c.test(b.replace(d,"@").replace(e,"]").replace(f,""))?new Function("return "+b)():void 0):null}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(a,b,c){c.encode=function(a){var b="";for(var c in a)a.hasOwnProperty(c)&&(b.length&&(b+="&"),b+=encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b},c.decode=function(a){for(var b={},c=a.split("&"),d=0,e=c.length;e>d;d++){var f=c[d].split("=");b[decodeURIComponent(f[0])]=decodeURIComponent(f[1])}return b}},{}],46:[function(a,b,c){var d=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,e=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];b.exports=function(a){var b=a,c=a.indexOf("["),f=a.indexOf("]");-1!=c&&-1!=f&&(a=a.substring(0,c)+a.substring(c,f).replace(/:/g,";")+a.substring(f,a.length));for(var g=d.exec(a||""),h={},i=14;i--;)h[e[i]]=g[i]||"";return-1!=c&&-1!=f&&(h.source=b,h.host=h.host.substring(1,h.host.length-1).replace(/;/g,":"),h.authority=h.authority.replace("[","").replace("]","").replace(/;/g,":"),h.ipv6uri=!0),h}},{}],47:[function(a,b,c){function d(a,b,c){var d;return d=b?new f(a,b):new f(a)}var e=function(){return this}(),f=e.WebSocket||e.MozWebSocket;b.exports=f?d:null,f&&(d.prototype=f.prototype)},{}],48:[function(a,b,c){(function(c){function d(a){function b(a){if(!a)return!1;if(c.Buffer&&c.Buffer.isBuffer(a)||c.ArrayBuffer&&a instanceof ArrayBuffer||c.Blob&&a instanceof Blob||c.File&&a instanceof File)return!0;if(e(a)){for(var d=0;d<a.length;d++)if(b(a[d]))return!0}else if(a&&"object"==typeof a){a.toJSON&&(a=a.toJSON());for(var f in a)if(Object.prototype.hasOwnProperty.call(a,f)&&b(a[f]))return!0}return!1}return b(a)}var e=a("isarray");b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:49}],49:[function(a,b,c){b.exports=Array.isArray||function(a){return"[object Array]"==Object.prototype.toString.call(a)}},{}],50:[function(a,b,c){var d=[].indexOf;b.exports=function(a,b){if(d)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}},{}],51:[function(a,b,c){var d=Object.prototype.hasOwnProperty;c.keys=Object.keys||function(a){var b=[];for(var c in a)d.call(a,c)&&b.push(c);return b},c.values=function(a){var b=[];for(var c in a)d.call(a,c)&&b.push(a[c]);return b},c.merge=function(a,b){for(var c in b)d.call(b,c)&&(a[c]=b[c]);return a},c.length=function(a){return c.keys(a).length},c.isEmpty=function(a){return 0==c.length(a)}},{}],52:[function(a,b,c){var d=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,e=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];b.exports=function(a){for(var b=d.exec(a||""),c={},f=14;f--;)c[e[f]]=b[f]||"";return c}},{}],53:[function(a,b,c){(function(b){var d=a("isarray"),e=a("./is-buffer");c.deconstructPacket=function(a){function b(a){if(!a)return a;if(e(a)){var f={_placeholder:!0,num:c.length};return c.push(a),f}if(d(a)){for(var g=new Array(a.length),h=0;h<a.length;h++)g[h]=b(a[h]);return g}if("object"==typeof a&&!(a instanceof Date)){var g={};for(var i in a)g[i]=b(a[i]);return g}return a}var c=[],f=a.data,g=a;return g.data=b(f),g.attachments=c.length,{packet:g,buffers:c}},c.reconstructPacket=function(a,b){function c(a){if(a&&a._placeholder){var e=b[a.num];return e}if(d(a)){for(var f=0;f<a.length;f++)a[f]=c(a[f]);return a}if(a&&"object"==typeof a){for(var g in a)a[g]=c(a[g]);return a}return a}return a.data=c(a.data),a.attachments=void 0,a},c.removeBlobs=function(a,c){function f(a,i,j){if(!a)return a;if(b.Blob&&a instanceof Blob||b.File&&a instanceof File){g++;var k=new FileReader;k.onload=function(){j?j[i]=this.result:h=this.result,--g||c(h)},k.readAsArrayBuffer(a)}else if(d(a))for(var l=0;l<a.length;l++)f(a[l],l,a);else if(a&&"object"==typeof a&&!e(a))for(var m in a)f(a[m],m,a)}var g=0,h=a;f(h),g||c(h)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":55,isarray:56}],54:[function(a,b,c){function d(){}function e(a){var b="",d=!1;return b+=a.type,(c.BINARY_EVENT==a.type||c.BINARY_ACK==a.type)&&(b+=a.attachments,b+="-"),a.nsp&&"/"!=a.nsp&&(d=!0,b+=a.nsp),null!=a.id&&(d&&(b+=",",d=!1),b+=a.id),null!=a.data&&(d&&(b+=","),b+=l.stringify(a.data)),k("encoded %j as %s",a,b),b}function f(a,b){function c(a){var c=n.deconstructPacket(a),d=e(c.packet),f=c.buffers;f.unshift(d),b(f)}n.removeBlobs(a,c)}function g(){this.reconstructor=null}function h(a){var b={},d=0;if(b.type=Number(a.charAt(0)),null==c.types[b.type])return j();if(c.BINARY_EVENT==b.type||c.BINARY_ACK==b.type){for(var e="";"-"!=a.charAt(++d)&&(e+=a.charAt(d),d!=a.length););if(e!=Number(e)||"-"!=a.charAt(d))throw new Error("Illegal attachments");b.attachments=Number(e)}if("/"==a.charAt(d+1))for(b.nsp="";++d;){var f=a.charAt(d);if(","==f)break;if(b.nsp+=f,d==a.length)break}else b.nsp="/";var g=a.charAt(d+1);if(""!==g&&Number(g)==g){for(b.id="";++d;){var f=a.charAt(d);if(null==f||Number(f)!=f){--d;break}if(b.id+=a.charAt(d),d==a.length)break}b.id=Number(b.id)}if(a.charAt(++d))try{b.data=l.parse(a.substr(d))}catch(h){return j()}return k("decoded %s as %j",a,b),b}function i(a){this.reconPack=a,this.buffers=[]}function j(a){return{type:c.ERROR,data:"parser error"}}var k=a("debug")("socket.io-parser"),l=a("json3"),m=(a("isarray"),a("component-emitter")),n=a("./binary"),o=a("./is-buffer");c.protocol=4,c.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],c.CONNECT=0,c.DISCONNECT=1,c.EVENT=2,c.ACK=3,c.ERROR=4,c.BINARY_EVENT=5,c.BINARY_ACK=6,c.Encoder=d,c.Decoder=g,d.prototype.encode=function(a,b){if(k("encoding packet %j",a),c.BINARY_EVENT==a.type||c.BINARY_ACK==a.type)f(a,b);else{var d=e(a);b([d])}},m(g.prototype),g.prototype.add=function(a){var b;if("string"==typeof a)b=h(a),c.BINARY_EVENT==b.type||c.BINARY_ACK==b.type?(this.reconstructor=new i(b),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",b)):this.emit("decoded",b);else{if(!o(a)&&!a.base64)throw new Error("Unknown type: "+a);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");b=this.reconstructor.takeBinaryData(a),b&&(this.reconstructor=null,this.emit("decoded",b))}},g.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},i.prototype.takeBinaryData=function(a){if(this.buffers.push(a),this.buffers.length==this.reconPack.attachments){var b=n.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),b}return null},i.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":53,"./is-buffer":55,"component-emitter":19,debug:20,isarray:56,json3:57}],55:[function(a,b,c){(function(a){function c(b){return a.Buffer&&a.Buffer.isBuffer(b)||a.ArrayBuffer&&b instanceof ArrayBuffer}b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],56:[function(a,b,c){arguments[4][49][0].apply(c,arguments)},{dup:49}],57:[function(a,b,c){!function(a){function b(a){if(b[a]!==f)return b[a];var c;if("bug-string-char-index"==a)c="a"!="a"[0];else if("json"==a)c=b("json-stringify")&&b("json-parse");else{var d,e='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==a){var h=j.stringify,i="function"==typeof h&&k;if(i){(d=function(){return 1}).toJSON=d;try{i="0"===h(0)&&"0"===h(new Number)&&'""'==h(new String)&&h(g)===f&&h(f)===f&&h()===f&&"1"===h(d)&&"[1]"==h([d])&&"[null]"==h([f])&&"null"==h(null)&&"[null,null,null]"==h([f,g,null])&&h({a:[d,!0,!1,null,"\x00\b\n\f\r	"]})==e&&"1"===h(null,d)&&"[\n 1,\n 2\n]"==h([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==h(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==h(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==h(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==h(new Date(-1))}catch(l){i=!1}}c=i}if("json-parse"==a){var m=j.parse;if("function"==typeof m)try{if(0===m("0")&&!m(!1)){d=m(e);var n=5==d.a.length&&1===d.a[0];if(n){try{n=!m('"	"')}catch(l){}if(n)try{n=1!==m("01")}catch(l){}if(n)try{n=1!==m("1.")}catch(l){}}}}catch(l){n=!1}c=n}}return b[a]=!!c}var d,e,f,g={}.toString,h="function"==typeof define&&define.amd,i="object"==typeof JSON&&JSON,j="object"==typeof c&&c&&!c.nodeType&&c;j&&i?(j.stringify=i.stringify,j.parse=i.parse):j=a.JSON=i||{};var k=new Date(-0xc782b5b800cec);try{k=-109252==k.getUTCFullYear()&&0===k.getUTCMonth()&&1===k.getUTCDate()&&10==k.getUTCHours()&&37==k.getUTCMinutes()&&6==k.getUTCSeconds()&&708==k.getUTCMilliseconds()}catch(l){}if(!b("json")){var m="[object Function]",n="[object Date]",o="[object Number]",p="[object String]",q="[object Array]",r="[object Boolean]",s=b("bug-string-char-index");if(!k)var t=Math.floor,u=[0,31,59,90,120,151,181,212,243,273,304,334],v=function(a,b){return u[b]+365*(a-1970)+t((a-1969+(b=+(b>1)))/4)-t((a-1901+b)/100)+t((a-1601+b)/400)};(d={}.hasOwnProperty)||(d=function(a){var b,c={};return(c.__proto__=null,c.__proto__={toString:1},c).toString!=g?d=function(a){var b=this.__proto__,c=a in(this.__proto__=null,this);return this.__proto__=b,c}:(b=c.constructor,d=function(a){var c=(this.constructor||b).prototype;return a in this&&!(a in c&&this[a]===c[a])}),c=null,d.call(this,a)});var w={"boolean":1,number:1,string:1,undefined:1},x=function(a,b){var c=typeof a[b];return"object"==c?!!a[b]:!w[c]};if(e=function(a,b){var c,f,h,i=0;(c=function(){this.valueOf=0}).prototype.valueOf=0,f=new c;for(h in f)d.call(f,h)&&i++;return c=f=null,i?e=2==i?function(a,b){var c,e={},f=g.call(a)==m;for(c in a)f&&"prototype"==c||d.call(e,c)||!(e[c]=1)||!d.call(a,c)||b(c)}:function(a,b){var c,e,f=g.call(a)==m;for(c in a)f&&"prototype"==c||!d.call(a,c)||(e="constructor"===c)||b(c);(e||d.call(a,c="constructor"))&&b(c)}:(f=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],e=function(a,b){var c,e,h=g.call(a)==m,i=!h&&"function"!=typeof a.constructor&&x(a,"hasOwnProperty")?a.hasOwnProperty:d;for(c in a)h&&"prototype"==c||!i.call(a,c)||b(c);for(e=f.length;c=f[--e];i.call(a,c)&&b(c));}),e(a,b)},!b("json-stringify")){var y={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},z="000000",A=function(a,b){return(z+(b||0)).slice(-a)},B="\\u00",C=function(a){var b,c='"',d=0,e=a.length,f=e>10&&s;for(f&&(b=a.split(""));e>d;d++){var g=a.charCodeAt(d);switch(g){case 8:case 9:case 10:case 12:case 13:case 34:case 92:c+=y[g];break;default:if(32>g){c+=B+A(2,g.toString(16));break}c+=f?b[d]:s?a.charAt(d):a[d]}}return c+'"'},D=function(a,b,c,h,i,j,k){var l,m,s,u,w,x,y,z,B,E,F,G,H,I,J,K;try{l=b[a]}catch(L){}if("object"==typeof l&&l)if(m=g.call(l),m!=n||d.call(l,"toJSON"))"function"==typeof l.toJSON&&(m!=o&&m!=p&&m!=q||d.call(l,"toJSON"))&&(l=l.toJSON(a));else if(l>-1/0&&1/0>l){if(v){for(w=t(l/864e5),s=t(w/365.2425)+1970-1;v(s+1,0)<=w;s++);for(u=t((w-v(s,0))/30.42);v(s,u+1)<=w;u++);w=1+w-v(s,u),x=(l%864e5+864e5)%864e5,y=t(x/36e5)%24,z=t(x/6e4)%60,B=t(x/1e3)%60,E=x%1e3}else s=l.getUTCFullYear(),u=l.getUTCMonth(),w=l.getUTCDate(),y=l.getUTCHours(),z=l.getUTCMinutes(),B=l.getUTCSeconds(),E=l.getUTCMilliseconds();l=(0>=s||s>=1e4?(0>s?"-":"+")+A(6,0>s?-s:s):A(4,s))+"-"+A(2,u+1)+"-"+A(2,w)+"T"+A(2,y)+":"+A(2,z)+":"+A(2,B)+"."+A(3,E)+"Z"}else l=null;if(c&&(l=c.call(b,a,l)),null===l)return"null";if(m=g.call(l),m==r)return""+l;if(m==o)return l>-1/0&&1/0>l?""+l:"null";if(m==p)return C(""+l);if("object"==typeof l){for(I=k.length;I--;)if(k[I]===l)throw TypeError();if(k.push(l),F=[],J=j,j+=i,m==q){for(H=0,I=l.length;I>H;H++)G=D(H,l,c,h,i,j,k),F.push(G===f?"null":G);K=F.length?i?"[\n"+j+F.join(",\n"+j)+"\n"+J+"]":"["+F.join(",")+"]":"[]"}else e(h||l,function(a){var b=D(a,l,c,h,i,j,k);b!==f&&F.push(C(a)+":"+(i?" ":"")+b)}),K=F.length?i?"{\n"+j+F.join(",\n"+j)+"\n"+J+"}":"{"+F.join(",")+"}":"{}";return k.pop(),K}};j.stringify=function(a,b,c){var d,e,f,h;if("function"==typeof b||"object"==typeof b&&b)if((h=g.call(b))==m)e=b;else if(h==q){f={};for(var i,j=0,k=b.length;k>j;i=b[j++],h=g.call(i),(h==p||h==o)&&(f[i]=1));}if(c)if((h=g.call(c))==o){if((c-=c%1)>0)for(d="",c>10&&(c=10);d.length<c;d+=" ");}else h==p&&(d=c.length<=10?c:c.slice(0,10));return D("",(i={},i[""]=a,i),e,f,d,"",[])}}if(!b("json-parse")){var E,F,G=String.fromCharCode,H={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},I=function(){throw E=F=null,SyntaxError()},J=function(){for(var a,b,c,d,e,f=F,g=f.length;g>E;)switch(e=f.charCodeAt(E)){case 9:case 10:case 13:case 32:E++;break;case 123:case 125:case 91:case 93:case 58:case 44:return a=s?f.charAt(E):f[E],E++,a;case 34:for(a="@",E++;g>E;)if(e=f.charCodeAt(E),32>e)I();else if(92==e)switch(e=f.charCodeAt(++E)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:a+=H[e],E++;break;case 117:for(b=++E,c=E+4;c>E;E++)e=f.charCodeAt(E),e>=48&&57>=e||e>=97&&102>=e||e>=65&&70>=e||I();a+=G("0x"+f.slice(b,E));break;default:I()}else{if(34==e)break;for(e=f.charCodeAt(E),b=E;e>=32&&92!=e&&34!=e;)e=f.charCodeAt(++E);a+=f.slice(b,E)}if(34==f.charCodeAt(E))return E++,a;I();default:if(b=E,45==e&&(d=!0,e=f.charCodeAt(++E)),e>=48&&57>=e){for(48==e&&(e=f.charCodeAt(E+1),e>=48&&57>=e)&&I(),d=!1;g>E&&(e=f.charCodeAt(E),e>=48&&57>=e);E++);if(46==f.charCodeAt(E)){for(c=++E;g>c&&(e=f.charCodeAt(c),e>=48&&57>=e);c++);c==E&&I(),E=c}if(e=f.charCodeAt(E),101==e||69==e){for(e=f.charCodeAt(++E),(43==e||45==e)&&E++,c=E;g>c&&(e=f.charCodeAt(c),e>=48&&57>=e);c++);c==E&&I(),E=c}return+f.slice(b,E)}if(d&&I(),"true"==f.slice(E,E+4))return E+=4,!0;if("false"==f.slice(E,E+5))return E+=5,!1;if("null"==f.slice(E,E+4))return E+=4,null;I()}return"$"},K=function(a){var b,c;if("$"==a&&I(),"string"==typeof a){if("@"==(s?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];a=J(),"]"!=a;c||(c=!0))c&&(","==a?(a=J(),"]"==a&&I()):I()),","==a&&I(),b.push(K(a));return b}if("{"==a){for(b={};a=J(),"}"!=a;c||(c=!0))c&&(","==a?(a=J(),"}"==a&&I()):I()),(","==a||"string"!=typeof a||"@"!=(s?a.charAt(0):a[0])||":"!=J())&&I(),b[a.slice(1)]=K(J());return b}I()}return a},L=function(a,b,c){var d=M(a,b,c);d===f?delete a[b]:a[b]=d},M=function(a,b,c){var d,f=a[b];if("object"==typeof f&&f)if(g.call(f)==q)for(d=f.length;d--;)L(f,d,c);else e(f,function(a){L(f,a,c)});return c.call(a,b,f)};j.parse=function(a,b){var c,d;return E=0,F=""+a,c=K(J()),"$"!=J()&&I(),E=F=null,b&&g.call(b)==m?M((d={},d[""]=c,d),"",b):c}}}h&&define(function(){return j})}(this)},{}],58:[function(a,b,c){function d(a,b){var c=[];b=b||0;for(var d=b||0;d<a.length;d++)c[d-b]=a[d];return c}b.exports=d},{}],59:[function(a,b,c){b.exports={title:"Scratch4TUIO",javascriptURL:"http://caesarion.github.io/scratch4tuio/scratch4tuio.min.js",descriptors:{en:{blocks:[["h","when %s changed","updateEventHatBlock",""],["h","when %s added","addEventHatBlock",""],["h","when %s removed","removeEventHatBlock",""],["h","when any TUIO-Object changed","updateOnAnyObject",""],["--"],["r","last changed TUIO-Object","getLatestTuioObject",""],["r","TUIO-Object with Symbol ID %n","tuioObject",""],["r","TUIO-Object with Session ID %n","tuioObjectSessionID",""],["r","TUIO-Cursor","tuioCursor",""],["r","%m.objectAttributes of %s","getTuioAttribute","Position X",""],["--"],["b","%s is %m.objectStates ?","getStateOfTuioObject","","moving"]],menus:{objectAttributes:["Position X","Position Y","Angle","Motion Speed","Motion Accel","Rotation Speed","Rotation Accel","xSpeed","ySpeed","symbolID","sessionID","scratchID"],objectStates:["moving","accelerating","decelerating","rotating"]},url:"http://caesarion.github.io/scratch4tuio/en.html"},de:{blocks:[["h","Wenn sich %s verändert","updateEventHatBlock",""],["h","Wenn %s hinzugefügt wird","addEventHatBlock",""],["h","Wenn %s entfernt wird","removeEventHatBlock",""],["h","Wenn irgendein TUIO-Objekt verändert wird","updateOnAnyObject",""],["--"],["r","zuletzt verändertes TUIO-Objekt","getLatestTuioObject",""],["r","TUIO-Objekt mit der Symbolnummer %n","tuioObject",""],["r","TUIO-Objekt mit der Sitzungsnummer %n","tuioObjectSessionID",""],["r","TUIO-Zeiger","tuioCursor",""],["r","%m.objectAttributes von %s","getTuioAttribute","Position X",""],["--"],["b","%s ist %m.objectStates ?","getStateOfTuioObject","","in Bewegung"]],menus:{objectAttributes:["Position X","Position Y","Winkel","Bewegungsgeschwindigkeit","Bewegungsbeschleunigung","Drehgeschwindigkeit","Drehbeschleunigung","xGeschwindigkeit","yGeschwindigkeit","Symbolnummer","Sitzungsnummer","Scratchnummer"],objectStates:["in Bewegung","am Beschleunigen","am Bremsen","am Drehen"]},url:"http://caesarion.github.io/scratch4tuio/de.html"},fr:{blocks:[["h","si %s change","updateEventHatBlock",""],["h","si %s est ajouté","addEventHatBlock",""],["h","si %s est effacé","removeEventHatBlock",""],["h","si n'importe quel objet-TUIO est changé","updateOnAnyObject",""],["--"],["r","objet-TUIO changé en dernier","getLatestTuioObject",""],["r","objet-TUIO avec le numéro de symbole %n","tuioObject",""],["r","objet-TUIO avec le numéro de session %n","tuioObjectSessionID",""],["r","curseur-TUIO","tuioCursor",""],["r","%m.objectAttributes de %s","getTuioAttribute","Position X",""],["--"],["b","%s est %m.objectStates ?","getStateOfTuioObject","","in Bewegung"]],menus:{objectAttributes:["position X","position Y","angle","vitesse de mouvement","accélération de mouvement","vitesse de rotation","accélération de la rotation","xVitesse","yVitesse","numéro de symbol","numéro de session"],objectStates:["se déplacant","en accélération","en freinant","en tournant"]},url:"http://caesarion.github.io/scratch4tuio/en.html"}}}},{}],60:[function(a,b,c){var d=a("./tuio.js");b.exports=function(){"use strict";var a={},b={},c="cursor",e="latest",f="symbol:",g="session:",h={},i={},j=null,k=5e4,l=new d.Client({host:"http://localhost:5000"}),m=function(b){i[c]=!0,h[c]=null,a[c]=b},n=function(b){a[c]=b},o=function(a){h[c]=a},p=function(b){var c=t(b.symbolId,"sym");i[c]=!0,h[c]=null,a[c]=b,j=b},q=function(b){var c=t(b.symbolId,"sym"),d=t(b.symbolId,"sess");a[c]=b,a[d]=b,j=b},r=function(b){var c=t(b.symbolId,"sym"),d=t(b.symbolId,"sess");h[c]=b,i[c]=null,a[c]=null,a[d]=null},s=function(){};l.on("addTuioCursor",m),l.on("updateTuioCursor",n),l.on("removeTuioCursor",o),l.on("addTuioObject",p),l.on("updateTuioObject",q),l.on("removeTuioObject",r),l.on("refresh",s),l.connect();var t=function(a,b){switch(b){case"sess":case"session":return g+a;case"sym":case"symbol":return f+a;default:return-1}},u=new RegExp("("+c+"|"+e+"|"+g+"\\d+|"+f+"\\d+)"),v=function(a){return u.test(a)},w=function(a){return(a==c||a>0&&88>a)&&!isNaN(a)&&function(a){return(0|a)===a}(parseFloat(a))},x=function(a){return Math.round(-240+480*a)},y=function(a){return Math.round(180-360*a)};return{updateEventHatBlock:function(c){if(b[c]>1)return b[c]=0,!1;var e=a[c];if("undefined"==typeof e||null==e)return!1;var f=d.Time.getSessionTime(),g=e.getTuioTime(),h=f.subtractTime(g),i=0===h.getSeconds()&&h.getMicroseconds()<=k;return i&&(b[c]?b[c]++:b[c]=1),i},addEventHatBlock:function(a){return v(a)===!0&&i[a]===!0?(i[a]=!1,!0):!1},removeEventHatBlock:function(a){var b=h[a];if("undefined"==typeof b||null==b)return!1;var c=b.getTuioState();return c==d.Container.TUIO_REMOVED},tuioObject:function(a){return t(a,"sym")},tuioObjectSessionID:function(a){return t(a,"sess")},tuioCursor:function(){return c},getLatestTuioObject:function(){return e},getTuioAttribute:function(b,c){var d;d=c==e?j:a[c];var f=this.descriptor.menus;if("undefined"==typeof d||null==d)return"ERROR: No object with id "+c+" recognized!";switch(b){case f.objectAttributes[0]:return x(d.getX());case f.objectAttributes[1]:return y(d.getY());case f.objectAttributes[2]:return d.getAngleDegrees();case f.objectAttributes[3]:return d.getMotionSpeed();case f.objectAttributes[4]:return d.getMotionAccel();case f.objectAttributes[5]:return d.getRotationSpeed();case f.objectAttributes[6]:return d.getRotationAccel();case f.objectAttributes[7]:return d.getXSpeed();case f.objectAttributes[8]:return d.getYSpeed();case f.objectAttributes[9]:return d.symbolId;case f.objectAttributes[10]:return d.sessionId;case f.objectAttributes[11]:return c===e?w(j.symbolId)?t(j.symbolId,"sym"):t(j.sessionId,"sess"):c}},getStateOfTuioObject:function(b,c){var f;if(f=b==e?j:a[b],"undefined"==typeof f||null==f)return"ERROR: No object with "+b+" on camera!";var g=this.descriptor.menus,h=f.getTuioState();switch(c){case g.objectStates[0]:return h===d.Object.TUIO_ACCELERATING||h===d.Object.TUIO_DECELERATING||h===d.Object.TUIO_ROTATING;case g.objectStates[1]:return h==d.Object.TUIO_ACCELERATING;case g.objectStates[2]:return h==d.Object.TUIO_DECELERATING;case g.objectStates[3]:return h==d.Object.TUIO_ROTATING}},updateOnAnyObject:function(){var a=e;if(b[a]>1)return b[a]=0,!1;var c=j;if("undefined"==typeof c||null==c)return!1;var f=d.Time.getSessionTime(),g=c.getTuioTime(),h=f.subtractTime(g),i=0===h.getSeconds()&&h.getMicroseconds()<=k;return i&&(b[a]?b[a]++:b[a]=1),i},_shutdown:function(){console.log("Shutting down..."),l.disconnect()},_getStatus:function(){return l.isConnected()?{status:2,msg:"Ready"}:{status:1,msg:"No connection to dispatcher"}}}}()},{"./tuio.js":62}],61:[function(a,b,c){var d=a("./extension.js"),e=a("./descriptor.json");!function(a){"use strict";for(var b=window.location.search.replace(/^\?|\/$/g,""),c=b.split("&"),f="en",g=0;g<c.length;g++){var h=c[g].split("=");h.length>1&&"lang"==h[0]&&(f=h[1])}for(var i in d)d.hasOwnProperty(i)&&(a[i]=d[i]);a.title=e.title,a.lang=f,a.descriptor=e.descriptors[f],ScratchExtensions.register(a.title,a.descriptor,a)}({})},{"./descriptor.json":59,"./extension.js":60}],62:[function(a,b,c){var d=a("../node_modules/osc/dist/osc-browser.js");b.exports=function(b){"use strict";var e,f=b.Tuio,g=Array.prototype.slice;e="undefined"!=typeof c?c:b.Tuio={},e.VERSION="0.0.1";var h=b._;h||"undefined"==typeof a||(h=a("lodash")),e.noConflict=function(){return b.Tuio=f,this};var i=/\s+/,j=e.Events={on:function(a,b,c){var d,e,f,g,h;if(!b)return this;for(a=a.split(i),d=this._callbacks||(this._callbacks={});e=a.shift();)h=d[e],f=h?h.tail:{},f.next=g={},f.context=c,f.callback=b,d[e]={tail:g,next:h?h.next:f};return this},off:function(a,b,c){var d,e,f,g,j,k;if(e=this._callbacks){if(!(a||b||c))return delete this._callbacks,this;for(a=a?a.split(i):h.keys(e);d=a.shift();)if(f=e[d],delete e[d],f&&(b||c))for(g=f.tail;(f=f.next)!==g;)j=f.callback,k=f.context,(b&&j!==b||c&&k!==c)&&this.on(d,j,k);return this}},trigger:function(a){var b,c,d,e,f,h,j;if(!(d=this._callbacks))return this;for(h=d.all,a=a.split(i),j=g.call(arguments,1);b=a.shift();){if(c=d[b])for(e=c.tail;(c=c.next)!==e;)c.callback.apply(c.context||this,j);if(c=h)for(e=c.tail,f=[b].concat(j);(c=c.next)!==e;)c.callback.apply(c.context||this,f)}return this}},k=e.Model=function(){this.initialize.apply(this,arguments)};h.extend(k.prototype,j);var l=function(a,b){var c=n(this,a,b);return c.extend=this.extend,c};e.Model.extend=l;var m=function(){},n=function(a,b,c){var d;return d=b&&b.hasOwnProperty("constructor")?b.constructor:function(){
a.apply(this,arguments)},h.extend(d,a),m.prototype=a.prototype,d.prototype=new m,b&&h.extend(d.prototype,b),c&&h.extend(d,c),d.prototype.constructor=d,d.__super__=a.prototype,d};return e.Time=e.Model.extend({seconds:0,microSeconds:0,initialize:function(a,b){this.seconds=a||0,this.microSeconds=b||0},add:function(a){return new e.Time(this.seconds+Math.floor(a/1e6),this.microSeconds+a%1e6)},addTime:function(a){var b=this.seconds+a.getSeconds(),c=this.microSeconds+a.getMicroseconds();return b+=Math.floor(c/1e6),c%=1e6,new e.Time(b,c)},subtract:function(a){var b=this.seconds-Math.floor(a/1e6),c=this.microSeconds-a%1e6;return 0>c&&(c+=1e6,b-=1),new e.Time(b,c)},subtractTime:function(a){var b=this.seconds-a.getSeconds(),c=this.microSeconds-a.getMicroseconds();return 0>c&&(c+=1e6,b-=1),new e.Time(b,c)},equals:function(a){return this.seconds===a.getSeconds()&&this.microSeconds===a.getMicroseconds()},reset:function(){this.seconds=0,this.microSeconds=0},getSeconds:function(){return this.seconds},getMicroseconds:function(){return this.microSeconds},getTotalMilliseconds:function(){return 1e3*this.seconds+Math.floor(this.microSeconds/1e3)}},{startSeconds:0,startMicroSeconds:0,fromMilliseconds:function(a){return new e.Time(Math.floor(a/1e3),1e3*(a%1e3))},fromTime:function(a){return new e.Time(a.getSeconds(),a.getMicroseconds())},initSession:function(){var a=e.Time.getSystemTime();e.Time.startSeconds=a.getSeconds(),e.Time.startMicroSeconds=a.getMicroseconds()},getSessionTime:function(){return e.Time.getSystemTime().subtractTime(e.Time.getStartTime())},getStartTime:function(){return new e.Time(e.Time.startSeconds,e.Time.startMicroSeconds)},getSystemTime:function(){var a=1e3*(new Date).getTime();return new e.Time(Math.floor(a/1e6),a%1e6)}}),e.Point=e.Model.extend({xPos:null,yPos:null,currentTime:null,startTime:null,initialize:function(a){this.xPos=a.xp||0,this.yPos=a.yp||0,this.currentTime=e.Time.fromTime(a.ttime||e.Time.getSessionTime()),this.startTime=e.Time.fromTime(this.currentTime)},update:function(a){this.xPos=a.xp,this.yPos=a.yp,a.hasOwnProperty("ttime")&&(this.currentTime=e.Time.fromTime(a.ttime))},updateToPoint:function(a){this.xPos=a.getX(),this.yPos=a.getY()},getX:function(){return this.xPos},getY:function(){return this.yPos},getDistance:function(a,b){var c=this.xPos-a,d=this.yPos-b;return Math.sqrt(c*c+d*d)},getDistanceToPoint:function(a){return this.getDistance(a.getX(),a.getY())},getAngle:function(a,b){var c=this.xPos-a,d=this.yPos-b,e=this.getDistance(a,b),f=Math.asin(c/e)+Math.PI/2;return 0>d&&(f=2*Math.PI-f),f},getAngleToPoint:function(a){return this.getAngle(a.getX(),a.getY())},getAngleDegrees:function(a,b){return this.getAngle(a,b)/Math.PI*180},getAngleDegreesToPoint:function(a){return this.getAngleToPoint(a)/Math.PI*180},getScreenX:function(a){return Math.round(this.xPos*a)},getScreenY:function(a){return Math.round(this.yPos*a)},getTuioTime:function(){return e.Time.fromTime(this.currentTime)},getStartTime:function(){return e.Time.fromTime(this.startTime)}},{fromPoint:function(a){return new e.Point({xp:a.getX(),yp:a.getY()})}}),e.Container=e.Point.extend({sessionId:null,xSpeed:null,ySpeed:null,motionSpeed:null,motionAccel:null,path:null,state:null,initialize:function(a){e.Point.prototype.initialize.call(this,a),this.sessionId=a.si,this.xSpeed=0,this.ySpeed=0,this.motionSpeed=0,this.motionAccel=0,this.path=[new e.Point({ttime:this.currentTime,xp:this.xPos,yp:this.yPos})],this.state=e.Container.TUIO_ADDED},update:function(a){var b=this.path[this.path.length-1];if(e.Point.prototype.update.call(this,a),a.hasOwnProperty("xs")&&a.hasOwnProperty("ys")&&a.hasOwnProperty("ma"))this.xSpeed=a.xs,this.ySpeed=a.ys,this.motionSpeed=Math.sqrt(this.xSpeed*this.xSpeed+this.ySpeed*this.ySpeed),this.motionAccel=a.ma;else{var c=this.currentTime.subtractTime(b.getTuioTime()),d=c.getTotalMilliseconds()/1e3,f=this.xPos-b.getX(),g=this.yPos-b.getY(),h=Math.sqrt(f*f+g*g),i=this.motionSpeed;this.xSpeed=f/d,this.ySpeed=g/d,this.motionSpeed=h/d,this.motionAccel=(this.motionSpeed-i)/d}this.updatePathAndState()},updateContainer:function(a){e.Point.prototype.updateToPoint.call(this,a),this.xSpeed=a.getXSpeed(),this.ySpeed=a.getYSpeed(),this.motionSpeed=a.getMotionSpeed(),this.motionAccel=a.getMotionAccel(),this.updatePathAndState()},updatePathAndState:function(){this.path.push(new e.Point({ttime:this.currentTime,xp:this.xPos,yp:this.yPos})),this.motionAccel>0?this.state=e.Container.TUIO_ACCELERATING:this.motionAccel<0?this.state=e.Container.TUIO_DECELERATING:this.state=e.Container.TUIO_STOPPED},stop:function(a){this.update({ttime:a,xp:this.xPos,yp:this.yPos})},remove:function(a){this.currentTime=e.Time.fromTime(a),this.state=e.Container.TUIO_REMOVED},getSessionId:function(){return this.sessionId},getXSpeed:function(){return this.xSpeed},getYSpeed:function(){return this.ySpeed},getPosition:function(){return new e.Point(this.xPos,this.yPos)},getPath:function(){return this.path},getMotionSpeed:function(){return this.motionSpeed},getMotionAccel:function(){return this.motionAccel},getTuioState:function(){return this.state},isMoving:function(){return this.state===e.Container.TUIO_ACCELERATING||this.state===e.Container.TUIO_DECELERATING}},{TUIO_ADDED:0,TUIO_ACCELERATING:1,TUIO_DECELERATING:2,TUIO_STOPPED:3,TUIO_REMOVED:4,fromContainer:function(a){return new e.Container({xp:a.getX(),yp:a.getY(),si:a.getSessionID()})}}),e.Cursor=e.Container.extend({cursorId:null,initialize:function(a){e.Container.prototype.initialize.call(this,a),this.cursorId=a.ci},getCursorId:function(){return this.cursorId}},{fromCursor:function(a){return new e.Cursor({si:a.getSessionId(),ci:a.getCursorId(),xp:a.getX(),yp:a.getY()})}}),e.Object=e.Container.extend({symbolId:null,angle:null,rotationSpeed:null,rotationAccel:null,initialize:function(a){e.Container.prototype.initialize.call(this,a),this.symbolId=a.sym,this.angle=a.a,this.rotationSpeed=0,this.rotationAccel=0},update:function(a){var b=this.path[this.path.length-1];if(e.Container.prototype.update.call(this,a),a.hasOwnProperty("rs")&&a.hasOwnProperty("ra"))this.angle=a.a,this.rotationSpeed=a.rs,this.rotationAccel=a.ra;else{var c=this.currentTime.subtractTime(b.getTuioTime()),d=c.getTotalMilliseconds()/1e3,f=this.angle,g=this.rotationSpeed;this.angle=a.a;var h=(this.angle-f)/(2*Math.PI);h>.75?h-=1:-.75>h&&(h+=1),this.rotationSpeed=h/d,this.rotationAccel=(this.rotationSpeed-g)/d}this.updateObjectState()},updateObject:function(a){e.Container.prototype.updateContainer.call(this,a),this.angle=a.getAngle(),this.rotationSpeed=a.getRotationSpeed(),this.rotationAccel=a.getRotationAccel(),this.updateObjectState()},updateObjectState:function(){0!==this.rotationAccel&&(this.state=e.Object.TUIO_ROTATING)},stop:function(a){this.update({ttime:a,xp:this.xPos,yp:this.yPos,a:this.angle})},getSymbolId:function(){return this.symbolId},getAngle:function(){return this.angle},getAngleDegrees:function(){return this.angle/Math.PI*180},getRotationSpeed:function(){return this.rotationSpeed},getRotationAccel:function(){return this.rotationAccel},isMoving:function(){return this.state===e.Object.TUIO_ACCELERATING||this.state===e.Object.TUIO_DECELERATING||this.state===e.Object.TUIO_ROTATING}},{TUIO_ROTATING:5,fromObject:function(a){return new e.Object({xp:a.getX(),yp:a.getY(),si:a.getSessionID(),sym:a.getSymbolId(),a:a.getAngle()})}}),e.Client=e.Model.extend({host:null,socket:null,connected:null,objectList:null,aliveObjectList:null,newObjectList:null,cursorList:null,aliveCursorList:null,newCursorList:null,frameObjects:null,frameCursors:null,freeCursorList:null,maxCursorId:null,currentFrame:null,currentTime:null,initialize:function(a){this.host=a.host,this.connected=!1,this.objectList={},this.aliveObjectList=[],this.newObjectList=[],this.cursorList={},this.aliveCursorList=[],this.newCursorList=[],this.frameObjects=[],this.frameCursors=[],this.freeCursorList=[],this.maxCursorId=-1,this.currentFrame=0,this.currentTime=null,h.bindAll(this,"onConnect","acceptBundle","onDisconnect")},connect:function(){e.Time.initSession(),this.currentTime=new e.Time,this.currentTime.reset(),this.socket=a("socket.io-client")(this.host),this.socket.on("connect",this.onConnect),this.socket.on("disconnect",this.onDisconnect)},disconnect:function(){this.socket.disconnect()},onConnect:function(){this.socket.on("osc",this.acceptBundle),console.log("connection established"),this.connected=!0,this.trigger("connect")},onDisconnect:function(){this.connected=!1,console.log("connection lost"),this.trigger("disconnect")},isConnected:function(){return this.connected},getTuioObjects:function(){return h.clone(this.objectList)},getTuioCursors:function(){return h.clone(this.cursorList)},getTuioObject:function(a){return this.objectList[a]},getTuioCursor:function(a){return this.cursorList[a]},acceptBundle:function(a){for(var b=d.readPacket(a.data,{},a.offset,a.length),c=b.packets,e=0,f=c.length;f>e;e++){var g=c[e];switch(g.address){case"/tuio/2Dobj":case"/tuio/2Dcur":this.acceptMessage(g);break;case"/tuio/2Dblb":console.log("Blob received. Not yet implemented.")}}},acceptMessage:function(a){var b=a.address,c=a.args[0],d=a.args.slice(1,a.length);switch(b){case"/tuio/2Dobj":this.handleObjectMessage(c,d);break;case"/tuio/2Dcur":this.handleCursorMessage(c,d)}},handleObjectMessage:function(a,b){switch(a){case"set":this.objectSet(b);break;case"alive":this.objectAlive(b);break;case"fseq":this.objectFseq(b)}},handleCursorMessage:function(a,b){switch(a){case"set":this.cursorSet(b);break;case"alive":this.cursorAlive(b);break;case"fseq":this.cursorFseq(b)}},objectSet:function(a){var b=a[0],c=a[1],d=a[2],f=a[3],g=a[4],i=a[5],j=a[6],k=a[7],l=a[8],m=a[9];if(h.has(this.objectList,b)){var n=this.objectList[b];if(!n)return;if(n.xPos!==d||n.yPos!==f||n.angle!==g||n.xSpeed!==i||n.ySpeed!==j||n.rotationSpeed!==k||n.motionAccel!==l||n.rotationAccel!==m){var o=new e.Object({si:b,sym:c,xp:d,yp:f,a:g});o.update({xp:d,yp:f,a:g,xs:i,ys:j,rs:k,ma:l,ra:m}),this.frameObjects.push(o)}}else{var p=new e.Object({si:b,sym:c,xp:d,yp:f,a:g});this.frameObjects.push(p)}},objectAlive:function(a){var b=null;this.newObjectList=a,this.aliveObjectList=h.difference(this.aliveObjectList,this.newObjectList);for(var c=0,d=this.aliveObjectList.length;d>c;c++)b=this.objectList[this.aliveObjectList[c]],b&&(b.remove(this.currentTime),this.frameObjects.push(b))},objectFseq:function(a){var b=a[0],c=!1,d=null;if(b>0?(b>this.currentFrame&&(this.currentTime=e.Time.getSessionTime()),b>=this.currentFrame||this.currentFrame-b>100?this.currentFrame=b:c=!0):e.Time.getSessionTime().subtractTime(this.currentTime).getTotalMilliseconds()>100&&(this.currentTime=e.Time.getSessionTime()),!c){for(var f=0,g=this.frameObjects.length;g>f;f++)switch(d=this.frameObjects[f],d.getTuioState()){case e.Object.TUIO_REMOVED:this.objectRemoved(d);break;case e.Object.TUIO_ADDED:this.objectAdded(d);break;default:this.objectDefault(d)}this.trigger("refresh",e.Time.fromTime(this.currentTime));var h=this.aliveObjectList;this.aliveObjectList=this.newObjectList,this.newObjectList=h}this.frameObjects=[]},objectRemoved:function(a){var b=a;b.remove(this.currentTime),this.trigger("removeTuioObject",b),delete this.objectList[b.getSessionId()]},objectAdded:function(a){var b=new e.Object({ttime:this.currentTime,si:a.getSessionId(),sym:a.getSymbolId(),xp:a.getX(),yp:a.getY(),a:a.getAngle()});this.objectList[b.getSessionId()]=b,this.trigger("addTuioObject",b)},objectDefault:function(a){var b=this.objectList[a.getSessionId()];a.getX()!==b.getX()&&0===a.getXSpeed()||a.getY()!==b.getY()&&0===a.getYSpeed()?b.update({ttime:this.currentTime,xp:a.getX(),yp:a.getY(),a:a.getAngle()}):b.update({ttime:this.currentTime,xp:a.getX(),yp:a.getY(),a:a.getAngle(),xs:a.getXSpeed(),ys:a.getYSpeed(),rs:a.getRotationSpeed(),ma:a.getMotionAccel(),ra:a.getRotationAccel()}),this.trigger("updateTuioObject",b)},cursorSet:function(a){var b=a[0],c=a[1],d=a[2],f=a[3],g=a[4],i=a[5];if(h.has(this.cursorList,b)){var j=this.cursorList[b];if(!j)return;if(j.xPos!==c||j.yPos!==d||j.xSpeed!==f||j.ySpeed!==g||j.motionAccel!==i){var k=new e.Cursor({si:b,ci:j.getCursorId(),xp:c,yp:d});k.update({xp:c,yp:d,xs:f,ys:g,ma:i}),this.frameCursors.push(k)}}else{var l=new e.Cursor({si:b,ci:-1,xp:c,yp:d});this.frameCursors.push(l)}},cursorAlive:function(a){var b=null;this.newCursorList=a,this.aliveCursorList=h.difference(this.aliveCursorList,this.newCursorList);for(var c=0,d=this.aliveCursorList.length;d>c;c++)b=this.cursorList[this.aliveCursorList[c]],b&&(b.remove(this.currentTime),this.frameCursors.push(b))},cursorFseq:function(a){var b=a[0],c=!1,d=null;if(b>0?(b>this.currentFrame&&(this.currentTime=e.Time.getSessionTime()),b>=this.currentFrame||this.currentFrame-b>100?this.currentFrame=b:c=!0):e.Time.getSessionTime().subtractTime(this.currentTime).getTotalMilliseconds()>100&&(this.currentTime=e.Time.getSessionTime()),!c){for(var f=0,g=this.frameCursors.length;g>f;f++)switch(d=this.frameCursors[f],d.getTuioState()){case e.Cursor.TUIO_REMOVED:this.cursorRemoved(d);break;case e.Cursor.TUIO_ADDED:this.cursorAdded(d);break;default:this.cursorDefault(d)}this.trigger("refresh",e.Time.fromTime(this.currentTime));var h=this.aliveCursorList;this.aliveCursorList=this.newCursorList,this.newCursorList=h}this.frameCursors=[]},cursorRemoved:function(a){var b=a;if(b.remove(this.currentTime),this.trigger("removeTuioCursor",b),delete this.cursorList[b.getSessionId()],b.getCursorId()===this.maxCursorId)if(this.maxCursorId=-1,h.size(this.cursorList)>0){var c=h.max(this.cursorList,function(a){return a.getCursorId()});c.getCursorId()>this.maxCursorId&&(this.maxCursorId=c.getCursorId()),this.freeCursorList=h.without(this.freeCursorList,function(a){return a.getCursorId()>=this.maxCursorId})}else this.freeCursorList=[];else b.getCursorId()<this.maxCursorId&&this.freeCursorList.push(b)},cursorAdded:function(a){var b=h.size(this.cursorList),c=null;if(b<=this.maxCursorId&&this.freeCursorList.length>0){for(var d=this.freeCursorList[0],f=this.freeCursorList.length,g=0;f>g;g++)c=this.freeCursorList[g],c.getDistanceToPoint(a)<d.getDistanceToPoint(a)&&(d=c);b=d.getCursorId(),this.freeCursorList=h.without(this.freeCursorList,function(a){return a.getCursorId()===b})}else this.maxCursorId=b;var i=new e.Cursor({ttime:this.currentTime,si:a.getSessionId(),ci:b,xp:a.getX(),yp:a.getY()});this.cursorList[i.getSessionId()]=i,this.trigger("addTuioCursor",i)},cursorDefault:function(a){var b=this.cursorList[a.getSessionId()];a.getX()!==b.getX()&&0===a.getXSpeed()||a.getY()!==b.getY()&&0===a.getYSpeed()?b.update({ttime:this.currentTime,xp:a.getX(),yp:a.getY()}):b.update({ttime:this.currentTime,xp:a.getX(),yp:a.getY(),xs:a.getXSpeed(),ys:a.getYSpeed(),ma:a.getMotionAccel()}),this.trigger("updateTuioCursor",b)}}),e}(this)},{"../node_modules/osc/dist/osc-browser.js":7,lodash:6,"socket.io-client":11}]},{},[61]);